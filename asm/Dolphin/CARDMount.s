.include "macros.inc"
.section .data, "wa"  # 0x8049E220 - 0x804EFC20
.balign 8
.global SectorSizeTable
SectorSizeTable:
	.4byte 0x00002000
	.4byte 0x00004000
	.4byte 0x00008000
	.4byte 0x00010000
	.4byte 0x00020000
	.4byte 0x00040000
	.4byte 0x00000000
	.4byte 0x00000000
.global LatencyTable
LatencyTable:
	.4byte 0x00000004
	.4byte 0x00000008
	.4byte 0x00000010
	.4byte 0x00000020
	.4byte 0x00000040
	.4byte 0x00000080
	.4byte 0x00000100
	.4byte 0x00000200

.section .text, "ax"  # 0x800056C0 - 0x80472F00
.global IsCard
IsCard:
/* 800D8334 000D5274  54 60 00 1F */	rlwinm. r0, r3, 0, 0, 0xf
/* 800D8338 000D5278  41 82 00 24 */	beq .L_800D835C
/* 800D833C 000D527C  3C 03 80 00 */	addis r0, r3, 0x8000
/* 800D8340 000D5280  28 00 00 04 */	cmplwi r0, 4
/* 800D8344 000D5284  40 82 00 10 */	bne .L_800D8354
/* 800D8348 000D5288  A0 0D 82 98 */	lhz r0, __CARDVendorID@sda21(r13)
/* 800D834C 000D528C  28 00 FF FF */	cmplwi r0, 0xffff
/* 800D8350 000D5290  40 82 00 0C */	bne .L_800D835C
.L_800D8354:
/* 800D8354 000D5294  38 60 00 00 */	li r3, 0
/* 800D8358 000D5298  4E 80 00 20 */	blr 
.L_800D835C:
/* 800D835C 000D529C  54 60 07 BF */	clrlwi. r0, r3, 0x1e
/* 800D8360 000D52A0  41 82 00 0C */	beq .L_800D836C
/* 800D8364 000D52A4  38 60 00 00 */	li r3, 0
/* 800D8368 000D52A8  4E 80 00 20 */	blr 
.L_800D836C:
/* 800D836C 000D52AC  54 65 06 3A */	rlwinm r5, r3, 0, 0x18, 0x1d
/* 800D8370 000D52B0  2C 05 00 20 */	cmpwi r5, 0x20
/* 800D8374 000D52B4  41 82 00 48 */	beq .L_800D83BC
/* 800D8378 000D52B8  40 80 00 28 */	bge .L_800D83A0
/* 800D837C 000D52BC  2C 05 00 08 */	cmpwi r5, 8
/* 800D8380 000D52C0  41 82 00 3C */	beq .L_800D83BC
/* 800D8384 000D52C4  40 80 00 10 */	bge .L_800D8394
/* 800D8388 000D52C8  2C 05 00 04 */	cmpwi r5, 4
/* 800D838C 000D52CC  41 82 00 30 */	beq .L_800D83BC
/* 800D8390 000D52D0  48 00 00 24 */	b .L_800D83B4
.L_800D8394:
/* 800D8394 000D52D4  2C 05 00 10 */	cmpwi r5, 0x10
/* 800D8398 000D52D8  41 82 00 24 */	beq .L_800D83BC
/* 800D839C 000D52DC  48 00 00 18 */	b .L_800D83B4
.L_800D83A0:
/* 800D83A0 000D52E0  2C 05 00 80 */	cmpwi r5, 0x80
/* 800D83A4 000D52E4  41 82 00 18 */	beq .L_800D83BC
/* 800D83A8 000D52E8  40 80 00 0C */	bge .L_800D83B4
/* 800D83AC 000D52EC  2C 05 00 40 */	cmpwi r5, 0x40
/* 800D83B0 000D52F0  41 82 00 0C */	beq .L_800D83BC
.L_800D83B4:
/* 800D83B4 000D52F4  38 60 00 00 */	li r3, 0
/* 800D83B8 000D52F8  4E 80 00 20 */	blr 
.L_800D83BC:
/* 800D83BC 000D52FC  3C 80 80 4A */	lis r4, SectorSizeTable@ha
/* 800D83C0 000D5300  54 63 BE FA */	rlwinm r3, r3, 0x17, 0x1b, 0x1d
/* 800D83C4 000D5304  38 04 78 E0 */	addi r0, r4, SectorSizeTable@l
/* 800D83C8 000D5308  7C 60 1A 14 */	add r3, r0, r3
/* 800D83CC 000D530C  80 63 00 00 */	lwz r3, 0(r3)
/* 800D83D0 000D5310  2C 03 00 00 */	cmpwi r3, 0
/* 800D83D4 000D5314  40 82 00 0C */	bne .L_800D83E0
/* 800D83D8 000D5318  38 60 00 00 */	li r3, 0
/* 800D83DC 000D531C  4E 80 00 20 */	blr 
.L_800D83E0:
/* 800D83E0 000D5320  54 A0 88 DC */	rlwinm r0, r5, 0x11, 3, 0xe
/* 800D83E4 000D5324  7C 00 1B 96 */	divwu r0, r0, r3
/* 800D83E8 000D5328  28 00 00 08 */	cmplwi r0, 8
/* 800D83EC 000D532C  40 80 00 0C */	bge .L_800D83F8
/* 800D83F0 000D5330  38 60 00 00 */	li r3, 0
/* 800D83F4 000D5334  4E 80 00 20 */	blr 
.L_800D83F8:
/* 800D83F8 000D5338  38 60 00 01 */	li r3, 1
/* 800D83FC 000D533C  4E 80 00 20 */	blr 

.global CARDProbe
CARDProbe:
/* 800D8400 000D5340  7C 08 02 A6 */	mflr r0
/* 800D8404 000D5344  3C 80 80 00 */	lis r4, 0x800030E3@ha
/* 800D8408 000D5348  90 01 00 04 */	stw r0, 4(r1)
/* 800D840C 000D534C  94 21 FF F8 */	stwu r1, -8(r1)
/* 800D8410 000D5350  88 04 30 E3 */	lbz r0, 0x800030E3@l(r4)
/* 800D8414 000D5354  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 800D8418 000D5358  41 82 00 0C */	beq .L_800D8424
/* 800D841C 000D535C  38 60 00 00 */	li r3, 0
/* 800D8420 000D5360  48 00 00 08 */	b .L_800D8428
.L_800D8424:
/* 800D8424 000D5364  48 00 80 91 */	bl EXIProbe
.L_800D8428:
/* 800D8428 000D5368  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800D842C 000D536C  38 21 00 08 */	addi r1, r1, 8
/* 800D8430 000D5370  7C 08 03 A6 */	mtlr r0
/* 800D8434 000D5374  4E 80 00 20 */	blr 

.global CARDProbeEx
CARDProbeEx:
/* 800D8438 000D5378  7C 08 02 A6 */	mflr r0
/* 800D843C 000D537C  90 01 00 04 */	stw r0, 4(r1)
/* 800D8440 000D5380  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800D8444 000D5384  BF 61 00 1C */	stmw r27, 0x1c(r1)
/* 800D8448 000D5388  7C 7B 1B 79 */	or. r27, r3, r3
/* 800D844C 000D538C  3B 84 00 00 */	addi r28, r4, 0
/* 800D8450 000D5390  3B E5 00 00 */	addi r31, r5, 0
/* 800D8454 000D5394  41 80 00 0C */	blt .L_800D8460
/* 800D8458 000D5398  2C 1B 00 02 */	cmpwi r27, 2
/* 800D845C 000D539C  41 80 00 0C */	blt .L_800D8468
.L_800D8460:
/* 800D8460 000D53A0  38 60 FF 80 */	li r3, -128
/* 800D8464 000D53A4  48 00 01 3C */	b .L_800D85A0
.L_800D8468:
/* 800D8468 000D53A8  3C 60 80 00 */	lis r3, 0x800030E3@ha
/* 800D846C 000D53AC  88 03 30 E3 */	lbz r0, 0x800030E3@l(r3)
/* 800D8470 000D53B0  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 800D8474 000D53B4  41 82 00 0C */	beq .L_800D8480
/* 800D8478 000D53B8  38 60 FF FD */	li r3, -3
/* 800D847C 000D53BC  48 00 01 24 */	b .L_800D85A0
.L_800D8480:
/* 800D8480 000D53C0  1C 9B 01 10 */	mulli r4, r27, 0x110
/* 800D8484 000D53C4  3C 60 80 4F */	lis r3, __CARDBlock@ha
/* 800D8488 000D53C8  38 03 5A F0 */	addi r0, r3, __CARDBlock@l
/* 800D848C 000D53CC  7F C0 22 14 */	add r30, r0, r4
/* 800D8490 000D53D0  48 01 67 A9 */	bl OSDisableInterrupts
/* 800D8494 000D53D4  3B A3 00 00 */	addi r29, r3, 0
/* 800D8498 000D53D8  38 7B 00 00 */	addi r3, r27, 0
/* 800D849C 000D53DC  48 00 80 99 */	bl EXIProbeEx
/* 800D84A0 000D53E0  2C 03 FF FF */	cmpwi r3, -1
/* 800D84A4 000D53E4  40 82 00 0C */	bne .L_800D84B0
/* 800D84A8 000D53E8  3B C0 FF FD */	li r30, -3
/* 800D84AC 000D53EC  48 00 00 E8 */	b .L_800D8594
.L_800D84B0:
/* 800D84B0 000D53F0  2C 03 00 00 */	cmpwi r3, 0
/* 800D84B4 000D53F4  40 82 00 0C */	bne .L_800D84C0
/* 800D84B8 000D53F8  3B C0 FF FF */	li r30, -1
/* 800D84BC 000D53FC  48 00 00 D8 */	b .L_800D8594
.L_800D84C0:
/* 800D84C0 000D5400  80 1E 00 00 */	lwz r0, 0(r30)
/* 800D84C4 000D5404  2C 00 00 00 */	cmpwi r0, 0
/* 800D84C8 000D5408  41 82 00 40 */	beq .L_800D8508
/* 800D84CC 000D540C  80 1E 00 24 */	lwz r0, 0x24(r30)
/* 800D84D0 000D5410  2C 00 00 01 */	cmpwi r0, 1
/* 800D84D4 000D5414  40 80 00 0C */	bge .L_800D84E0
/* 800D84D8 000D5418  3B C0 FF FF */	li r30, -1
/* 800D84DC 000D541C  48 00 00 B8 */	b .L_800D8594
.L_800D84E0:
/* 800D84E0 000D5420  28 1C 00 00 */	cmplwi r28, 0
/* 800D84E4 000D5424  41 82 00 0C */	beq .L_800D84F0
/* 800D84E8 000D5428  A0 1E 00 08 */	lhz r0, 8(r30)
/* 800D84EC 000D542C  90 1C 00 00 */	stw r0, 0(r28)
.L_800D84F0:
/* 800D84F0 000D5430  28 1F 00 00 */	cmplwi r31, 0
/* 800D84F4 000D5434  41 82 00 0C */	beq .L_800D8500
/* 800D84F8 000D5438  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 800D84FC 000D543C  90 1F 00 00 */	stw r0, 0(r31)
.L_800D8500:
/* 800D8500 000D5440  3B C0 00 00 */	li r30, 0
/* 800D8504 000D5444  48 00 00 90 */	b .L_800D8594
.L_800D8508:
/* 800D8508 000D5448  7F 63 DB 78 */	mr r3, r27
/* 800D850C 000D544C  48 00 8C 35 */	bl EXIGetState
/* 800D8510 000D5450  54 60 07 39 */	rlwinm. r0, r3, 0, 0x1c, 0x1c
/* 800D8514 000D5454  41 82 00 0C */	beq .L_800D8520
/* 800D8518 000D5458  3B C0 FF FE */	li r30, -2
/* 800D851C 000D545C  48 00 00 78 */	b .L_800D8594
.L_800D8520:
/* 800D8520 000D5460  38 7B 00 00 */	addi r3, r27, 0
/* 800D8524 000D5464  38 A1 00 14 */	addi r5, r1, 0x14
/* 800D8528 000D5468  38 80 00 00 */	li r4, 0
/* 800D852C 000D546C  48 00 8C 55 */	bl EXIGetID
/* 800D8530 000D5470  2C 03 00 00 */	cmpwi r3, 0
/* 800D8534 000D5474  40 82 00 0C */	bne .L_800D8540
/* 800D8538 000D5478  3B C0 FF FF */	li r30, -1
/* 800D853C 000D547C  48 00 00 58 */	b .L_800D8594
.L_800D8540:
/* 800D8540 000D5480  80 61 00 14 */	lwz r3, 0x14(r1)
/* 800D8544 000D5484  4B FF FD F1 */	bl IsCard
/* 800D8548 000D5488  2C 03 00 00 */	cmpwi r3, 0
/* 800D854C 000D548C  41 82 00 44 */	beq .L_800D8590
/* 800D8550 000D5490  28 1C 00 00 */	cmplwi r28, 0
/* 800D8554 000D5494  41 82 00 10 */	beq .L_800D8564
/* 800D8558 000D5498  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800D855C 000D549C  54 00 06 3A */	rlwinm r0, r0, 0, 0x18, 0x1d
/* 800D8560 000D54A0  90 1C 00 00 */	stw r0, 0(r28)
.L_800D8564:
/* 800D8564 000D54A4  28 1F 00 00 */	cmplwi r31, 0
/* 800D8568 000D54A8  41 82 00 20 */	beq .L_800D8588
/* 800D856C 000D54AC  80 81 00 14 */	lwz r4, 0x14(r1)
/* 800D8570 000D54B0  3C 60 80 4A */	lis r3, SectorSizeTable@ha
/* 800D8574 000D54B4  38 03 78 E0 */	addi r0, r3, SectorSizeTable@l
/* 800D8578 000D54B8  54 83 BE FA */	rlwinm r3, r4, 0x17, 0x1b, 0x1d
/* 800D857C 000D54BC  7C 60 1A 14 */	add r3, r0, r3
/* 800D8580 000D54C0  80 03 00 00 */	lwz r0, 0(r3)
/* 800D8584 000D54C4  90 1F 00 00 */	stw r0, 0(r31)
.L_800D8588:
/* 800D8588 000D54C8  3B C0 00 00 */	li r30, 0
/* 800D858C 000D54CC  48 00 00 08 */	b .L_800D8594
.L_800D8590:
/* 800D8590 000D54D0  3B C0 FF FE */	li r30, -2
.L_800D8594:
/* 800D8594 000D54D4  7F A3 EB 78 */	mr r3, r29
/* 800D8598 000D54D8  48 01 66 C9 */	bl OSRestoreInterrupts
/* 800D859C 000D54DC  7F C3 F3 78 */	mr r3, r30
.L_800D85A0:
/* 800D85A0 000D54E0  BB 61 00 1C */	lmw r27, 0x1c(r1)
/* 800D85A4 000D54E4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800D85A8 000D54E8  38 21 00 30 */	addi r1, r1, 0x30
/* 800D85AC 000D54EC  7C 08 03 A6 */	mtlr r0
/* 800D85B0 000D54F0  4E 80 00 20 */	blr 

.global DoMount
DoMount:
/* 800D85B4 000D54F4  7C 08 02 A6 */	mflr r0
/* 800D85B8 000D54F8  90 01 00 04 */	stw r0, 4(r1)
/* 800D85BC 000D54FC  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800D85C0 000D5500  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 800D85C4 000D5504  93 C1 00 28 */	stw r30, 0x28(r1)
/* 800D85C8 000D5508  93 A1 00 24 */	stw r29, 0x24(r1)
/* 800D85CC 000D550C  3B A3 00 00 */	addi r29, r3, 0
/* 800D85D0 000D5510  1C 9D 01 10 */	mulli r4, r29, 0x110
/* 800D85D4 000D5514  93 81 00 20 */	stw r28, 0x20(r1)
/* 800D85D8 000D5518  3C 60 80 4F */	lis r3, __CARDBlock@ha
/* 800D85DC 000D551C  38 03 5A F0 */	addi r0, r3, __CARDBlock@l
/* 800D85E0 000D5520  7C 60 22 14 */	add r3, r0, r4
/* 800D85E4 000D5524  80 03 00 24 */	lwz r0, 0x24(r3)
/* 800D85E8 000D5528  3B E3 00 00 */	addi r31, r3, 0
/* 800D85EC 000D552C  2C 00 00 00 */	cmpwi r0, 0
/* 800D85F0 000D5530  40 82 02 AC */	bne .L_800D889C
/* 800D85F4 000D5534  38 7D 00 00 */	addi r3, r29, 0
/* 800D85F8 000D5538  38 A1 00 18 */	addi r5, r1, 0x18
/* 800D85FC 000D553C  38 80 00 00 */	li r4, 0
/* 800D8600 000D5540  48 00 8B 81 */	bl EXIGetID
/* 800D8604 000D5544  2C 03 00 00 */	cmpwi r3, 0
/* 800D8608 000D5548  40 82 00 0C */	bne .L_800D8614
/* 800D860C 000D554C  3B C0 FF FD */	li r30, -3
/* 800D8610 000D5550  48 00 00 20 */	b .L_800D8630
.L_800D8614:
/* 800D8614 000D5554  80 61 00 18 */	lwz r3, 0x18(r1)
/* 800D8618 000D5558  4B FF FD 1D */	bl IsCard
/* 800D861C 000D555C  2C 03 00 00 */	cmpwi r3, 0
/* 800D8620 000D5560  41 82 00 0C */	beq .L_800D862C
/* 800D8624 000D5564  3B C0 00 00 */	li r30, 0
/* 800D8628 000D5568  48 00 00 08 */	b .L_800D8630
.L_800D862C:
/* 800D862C 000D556C  3B C0 FF FE */	li r30, -2
.L_800D8630:
/* 800D8630 000D5570  2C 1E 00 00 */	cmpwi r30, 0
/* 800D8634 000D5574  41 80 03 44 */	blt .L_800D8978
/* 800D8638 000D5578  80 01 00 18 */	lwz r0, 0x18(r1)
/* 800D863C 000D557C  3C 80 80 4A */	lis r4, SectorSizeTable@ha
/* 800D8640 000D5580  38 84 78 E0 */	addi r4, r4, SectorSizeTable@l
/* 800D8644 000D5584  90 1F 01 08 */	stw r0, 0x108(r31)
/* 800D8648 000D5588  3C 60 80 4A */	lis r3, LatencyTable@ha
/* 800D864C 000D558C  38 03 79 00 */	addi r0, r3, LatencyTable@l
/* 800D8650 000D5590  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 800D8654 000D5594  38 7D 00 00 */	addi r3, r29, 0
/* 800D8658 000D5598  54 A5 06 3A */	rlwinm r5, r5, 0, 0x18, 0x1d
/* 800D865C 000D559C  B0 BF 00 08 */	sth r5, 8(r31)
/* 800D8660 000D55A0  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 800D8664 000D55A4  54 A5 BE FA */	rlwinm r5, r5, 0x17, 0x1b, 0x1d
/* 800D8668 000D55A8  7C 84 2A 14 */	add r4, r4, r5
/* 800D866C 000D55AC  80 84 00 00 */	lwz r4, 0(r4)
/* 800D8670 000D55B0  90 9F 00 0C */	stw r4, 0xc(r31)
/* 800D8674 000D55B4  A0 BF 00 08 */	lhz r5, 8(r31)
/* 800D8678 000D55B8  80 9F 00 0C */	lwz r4, 0xc(r31)
/* 800D867C 000D55BC  54 A5 A0 16 */	slwi r5, r5, 0x14
/* 800D8680 000D55C0  7C A5 1E 70 */	srawi r5, r5, 3
/* 800D8684 000D55C4  7C A5 01 94 */	addze r5, r5
/* 800D8688 000D55C8  7C 85 23 D6 */	divw r4, r5, r4
/* 800D868C 000D55CC  B0 9F 00 10 */	sth r4, 0x10(r31)
/* 800D8690 000D55D0  80 81 00 18 */	lwz r4, 0x18(r1)
/* 800D8694 000D55D4  54 84 D6 FA */	rlwinm r4, r4, 0x1a, 0x1b, 0x1d
/* 800D8698 000D55D8  7C 80 22 14 */	add r4, r0, r4
/* 800D869C 000D55DC  80 04 00 00 */	lwz r0, 0(r4)
/* 800D86A0 000D55E0  90 1F 00 14 */	stw r0, 0x14(r31)
/* 800D86A4 000D55E4  4B FF C4 CD */	bl __CARDClearStatus
/* 800D86A8 000D55E8  7C 7E 1B 79 */	or. r30, r3, r3
/* 800D86AC 000D55EC  41 80 02 CC */	blt .L_800D8978
/* 800D86B0 000D55F0  38 7D 00 00 */	addi r3, r29, 0
/* 800D86B4 000D55F4  38 81 00 14 */	addi r4, r1, 0x14
/* 800D86B8 000D55F8  4B FF C3 C9 */	bl __CARDReadStatus
/* 800D86BC 000D55FC  7C 7E 1B 79 */	or. r30, r3, r3
/* 800D86C0 000D5600  41 80 02 B8 */	blt .L_800D8978
/* 800D86C4 000D5604  7F A3 EB 78 */	mr r3, r29
/* 800D86C8 000D5608  48 00 7D ED */	bl EXIProbe
/* 800D86CC 000D560C  2C 03 00 00 */	cmpwi r3, 0
/* 800D86D0 000D5610  40 82 00 0C */	bne .L_800D86DC
/* 800D86D4 000D5614  3B C0 FF FD */	li r30, -3
/* 800D86D8 000D5618  48 00 02 A0 */	b .L_800D8978
.L_800D86DC:
/* 800D86DC 000D561C  88 01 00 14 */	lbz r0, 0x14(r1)
/* 800D86E0 000D5620  54 00 06 73 */	rlwinm. r0, r0, 0, 0x19, 0x19
/* 800D86E4 000D5624  40 82 01 14 */	bne .L_800D87F8
/* 800D86E8 000D5628  38 7D 00 00 */	addi r3, r29, 0
/* 800D86EC 000D562C  38 9F 00 18 */	addi r4, r31, 0x18
/* 800D86F0 000D5630  4B FF D5 A5 */	bl __CARDUnlock
/* 800D86F4 000D5634  7C 7E 1B 79 */	or. r30, r3, r3
/* 800D86F8 000D5638  41 80 02 80 */	blt .L_800D8978
/* 800D86FC 000D563C  48 01 86 91 */	bl __OSLockSramEx
/* 800D8700 000D5640  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 800D8704 000D5644  7C 83 02 14 */	add r4, r3, r0
/* 800D8708 000D5648  88 1F 00 18 */	lbz r0, 0x18(r31)
/* 800D870C 000D564C  38 BF 00 18 */	addi r5, r31, 0x18
/* 800D8710 000D5650  98 04 00 00 */	stb r0, 0(r4)
/* 800D8714 000D5654  39 05 00 02 */	addi r8, r5, 2
/* 800D8718 000D5658  39 25 00 03 */	addi r9, r5, 3
/* 800D871C 000D565C  88 FF 00 18 */	lbz r7, 0x18(r31)
/* 800D8720 000D5660  39 45 00 04 */	addi r10, r5, 4
/* 800D8724 000D5664  88 1F 00 19 */	lbz r0, 0x19(r31)
/* 800D8728 000D5668  39 65 00 05 */	addi r11, r5, 5
/* 800D872C 000D566C  39 85 00 06 */	addi r12, r5, 6
/* 800D8730 000D5670  98 04 00 01 */	stb r0, 1(r4)
/* 800D8734 000D5674  3B 85 00 07 */	addi r28, r5, 7
/* 800D8738 000D5678  38 A0 00 08 */	li r5, 8
/* 800D873C 000D567C  88 1F 00 19 */	lbz r0, 0x19(r31)
/* 800D8740 000D5680  88 C8 00 00 */	lbz r6, 0(r8)
/* 800D8744 000D5684  7C 07 02 14 */	add r0, r7, r0
/* 800D8748 000D5688  98 C4 00 02 */	stb r6, 2(r4)
/* 800D874C 000D568C  88 E8 00 00 */	lbz r7, 0(r8)
/* 800D8750 000D5690  88 C9 00 00 */	lbz r6, 0(r9)
/* 800D8754 000D5694  7C 00 3A 14 */	add r0, r0, r7
/* 800D8758 000D5698  98 C4 00 03 */	stb r6, 3(r4)
/* 800D875C 000D569C  88 E9 00 00 */	lbz r7, 0(r9)
/* 800D8760 000D56A0  88 CA 00 00 */	lbz r6, 0(r10)
/* 800D8764 000D56A4  7C 00 3A 14 */	add r0, r0, r7
/* 800D8768 000D56A8  98 C4 00 04 */	stb r6, 4(r4)
/* 800D876C 000D56AC  88 EA 00 00 */	lbz r7, 0(r10)
/* 800D8770 000D56B0  88 CB 00 00 */	lbz r6, 0(r11)
/* 800D8774 000D56B4  7C 00 3A 14 */	add r0, r0, r7
/* 800D8778 000D56B8  98 C4 00 05 */	stb r6, 5(r4)
/* 800D877C 000D56BC  88 EB 00 00 */	lbz r7, 0(r11)
/* 800D8780 000D56C0  88 CC 00 00 */	lbz r6, 0(r12)
/* 800D8784 000D56C4  7C 00 3A 14 */	add r0, r0, r7
/* 800D8788 000D56C8  98 C4 00 06 */	stb r6, 6(r4)
/* 800D878C 000D56CC  88 EC 00 00 */	lbz r7, 0(r12)
/* 800D8790 000D56D0  88 DC 00 00 */	lbz r6, 0(r28)
/* 800D8794 000D56D4  7C 00 3A 14 */	add r0, r0, r7
/* 800D8798 000D56D8  98 C4 00 07 */	stb r6, 7(r4)
/* 800D879C 000D56DC  88 DC 00 00 */	lbz r6, 0(r28)
/* 800D87A0 000D56E0  7C 00 32 14 */	add r0, r0, r6
/* 800D87A4 000D56E4  48 00 01 F0 */	b .L_800D8994
.L_800D87A8:
/* 800D87A8 000D56E8  20 85 00 0C */	subfic r4, r5, 0xc
/* 800D87AC 000D56EC  2C 05 00 0C */	cmpwi r5, 0xc
/* 800D87B0 000D56F0  7C 89 03 A6 */	mtctr r4
/* 800D87B4 000D56F4  40 80 00 28 */	bge .L_800D87DC
.L_800D87B8:
/* 800D87B8 000D56F8  38 E5 00 18 */	addi r7, r5, 0x18
/* 800D87BC 000D56FC  7C FF 3A 14 */	add r7, r31, r7
/* 800D87C0 000D5700  88 87 00 00 */	lbz r4, 0(r7)
/* 800D87C4 000D5704  38 A5 00 01 */	addi r5, r5, 1
/* 800D87C8 000D5708  98 86 00 00 */	stb r4, 0(r6)
/* 800D87CC 000D570C  38 C6 00 01 */	addi r6, r6, 1
/* 800D87D0 000D5710  88 87 00 00 */	lbz r4, 0(r7)
/* 800D87D4 000D5714  7C 00 22 14 */	add r0, r0, r4
/* 800D87D8 000D5718  42 00 FF E0 */	bdnz .L_800D87B8
.L_800D87DC:
/* 800D87DC 000D571C  7C 63 EA 14 */	add r3, r3, r29
/* 800D87E0 000D5720  7C 00 00 F8 */	nor r0, r0, r0
/* 800D87E4 000D5724  98 03 00 26 */	stb r0, 0x26(r3)
/* 800D87E8 000D5728  38 60 00 01 */	li r3, 1
/* 800D87EC 000D572C  48 01 89 5D */	bl __OSUnlockSramEx
/* 800D87F0 000D5730  7F C3 F3 78 */	mr r3, r30
/* 800D87F4 000D5734  48 00 01 B0 */	b .L_800D89A4
.L_800D87F8:
/* 800D87F8 000D5738  38 00 00 01 */	li r0, 1
/* 800D87FC 000D573C  90 1F 00 24 */	stw r0, 0x24(r31)
/* 800D8800 000D5740  48 01 85 8D */	bl __OSLockSramEx
/* 800D8804 000D5744  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 800D8808 000D5748  3B C3 00 00 */	addi r30, r3, 0
/* 800D880C 000D574C  7C BE 02 14 */	add r5, r30, r0
/* 800D8810 000D5750  88 85 00 00 */	lbz r4, 0(r5)
/* 800D8814 000D5754  38 C0 00 08 */	li r6, 8
/* 800D8818 000D5758  88 05 00 01 */	lbz r0, 1(r5)
/* 800D881C 000D575C  88 65 00 02 */	lbz r3, 2(r5)
/* 800D8820 000D5760  7F 84 02 14 */	add r28, r4, r0
/* 800D8824 000D5764  88 05 00 03 */	lbz r0, 3(r5)
/* 800D8828 000D5768  7F 9C 1A 14 */	add r28, r28, r3
/* 800D882C 000D576C  88 65 00 04 */	lbz r3, 4(r5)
/* 800D8830 000D5770  7F 9C 02 14 */	add r28, r28, r0
/* 800D8834 000D5774  88 05 00 05 */	lbz r0, 5(r5)
/* 800D8838 000D5778  7F 9C 1A 14 */	add r28, r28, r3
/* 800D883C 000D577C  88 65 00 06 */	lbz r3, 6(r5)
/* 800D8840 000D5780  7F 9C 02 14 */	add r28, r28, r0
/* 800D8844 000D5784  88 05 00 07 */	lbz r0, 7(r5)
/* 800D8848 000D5788  7F 9C 1A 14 */	add r28, r28, r3
/* 800D884C 000D578C  7F 9C 02 14 */	add r28, r28, r0
/* 800D8850 000D5790  48 00 01 4C */	b .L_800D899C
.L_800D8854:
/* 800D8854 000D5794  20 06 00 0C */	subfic r0, r6, 0xc
/* 800D8858 000D5798  2C 06 00 0C */	cmpwi r6, 0xc
/* 800D885C 000D579C  7C 09 03 A6 */	mtctr r0
/* 800D8860 000D57A0  40 80 00 14 */	bge .L_800D8874
.L_800D8864:
/* 800D8864 000D57A4  88 03 00 00 */	lbz r0, 0(r3)
/* 800D8868 000D57A8  38 63 00 01 */	addi r3, r3, 1
/* 800D886C 000D57AC  7F 9C 02 14 */	add r28, r28, r0
/* 800D8870 000D57B0  42 00 FF F4 */	bdnz .L_800D8864
.L_800D8874:
/* 800D8874 000D57B4  38 60 00 00 */	li r3, 0
/* 800D8878 000D57B8  48 01 88 D1 */	bl __OSUnlockSramEx
/* 800D887C 000D57BC  7C 7E EA 14 */	add r3, r30, r29
/* 800D8880 000D57C0  7F 80 E0 F8 */	nor r0, r28, r28
/* 800D8884 000D57C4  88 63 00 26 */	lbz r3, 0x26(r3)
/* 800D8888 000D57C8  54 00 06 3E */	clrlwi r0, r0, 0x18
/* 800D888C 000D57CC  7C 03 00 40 */	cmplw r3, r0
/* 800D8890 000D57D0  41 82 00 0C */	beq .L_800D889C
/* 800D8894 000D57D4  3B C0 FF FB */	li r30, -5
/* 800D8898 000D57D8  48 00 00 E0 */	b .L_800D8978
.L_800D889C:
/* 800D889C 000D57DC  80 1F 00 24 */	lwz r0, 0x24(r31)
/* 800D88A0 000D57E0  2C 00 00 01 */	cmpwi r0, 1
/* 800D88A4 000D57E4  40 82 00 88 */	bne .L_800D892C
/* 800D88A8 000D57E8  80 7F 01 08 */	lwz r3, 0x108(r31)
/* 800D88AC 000D57EC  3C 03 80 00 */	addis r0, r3, 0x8000
/* 800D88B0 000D57F0  28 00 00 04 */	cmplwi r0, 4
/* 800D88B4 000D57F4  40 82 00 34 */	bne .L_800D88E8
/* 800D88B8 000D57F8  48 01 84 D5 */	bl __OSLockSramEx
/* 800D88BC 000D57FC  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 800D88C0 000D5800  7F 83 02 2E */	lhzx r28, r3, r0
/* 800D88C4 000D5804  38 60 00 00 */	li r3, 0
/* 800D88C8 000D5808  48 01 88 81 */	bl __OSUnlockSramEx
/* 800D88CC 000D580C  A0 0D 82 98 */	lhz r0, __CARDVendorID@sda21(r13)
/* 800D88D0 000D5810  28 00 FF FF */	cmplwi r0, 0xffff
/* 800D88D4 000D5814  41 82 00 0C */	beq .L_800D88E0
/* 800D88D8 000D5818  7C 1C 00 40 */	cmplw r28, r0
/* 800D88DC 000D581C  41 82 00 0C */	beq .L_800D88E8
.L_800D88E0:
/* 800D88E0 000D5820  3B C0 FF FE */	li r30, -2
/* 800D88E4 000D5824  48 00 00 94 */	b .L_800D8978
.L_800D88E8:
/* 800D88E8 000D5828  38 00 00 02 */	li r0, 2
/* 800D88EC 000D582C  90 1F 00 24 */	stw r0, 0x24(r31)
/* 800D88F0 000D5830  38 7D 00 00 */	addi r3, r29, 0
/* 800D88F4 000D5834  38 80 00 01 */	li r4, 1
/* 800D88F8 000D5838  4B FF C0 C9 */	bl __CARDEnableInterrupt
/* 800D88FC 000D583C  7C 7E 1B 79 */	or. r30, r3, r3
/* 800D8900 000D5840  41 80 00 78 */	blt .L_800D8978
/* 800D8904 000D5844  3C 60 80 0D */	lis r3, __CARDExiHandler@ha
/* 800D8908 000D5848  38 83 47 7C */	addi r4, r3, __CARDExiHandler@l
/* 800D890C 000D584C  38 7D 00 00 */	addi r3, r29, 0
/* 800D8910 000D5850  48 00 79 B5 */	bl EXISetExiCallback
/* 800D8914 000D5854  7F A3 EB 78 */	mr r3, r29
/* 800D8918 000D5858  48 00 87 4D */	bl EXIUnlock
/* 800D891C 000D585C  3C 80 00 01 */	lis r4, 0x0000A000@ha
/* 800D8920 000D5860  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 800D8924 000D5864  38 84 A0 00 */	addi r4, r4, 0x0000A000@l
/* 800D8928 000D5868  48 01 3D C5 */	bl DCInvalidateRange
.L_800D892C:
/* 800D892C 000D586C  80 9F 00 24 */	lwz r4, 0x24(r31)
/* 800D8930 000D5870  3C 60 80 0E */	lis r3, __CARDMountCallback@ha
/* 800D8934 000D5874  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 800D8938 000D5878  38 E3 89 C4 */	addi r7, r3, __CARDMountCallback@l
/* 800D893C 000D587C  38 64 FF FE */	addi r3, r4, -2
/* 800D8940 000D5880  7C 80 19 D6 */	mullw r4, r0, r3
/* 800D8944 000D5884  80 BF 00 80 */	lwz r5, 0x80(r31)
/* 800D8948 000D5888  54 60 68 24 */	slwi r0, r3, 0xd
/* 800D894C 000D588C  7C C5 02 14 */	add r6, r5, r0
/* 800D8950 000D5890  38 7D 00 00 */	addi r3, r29, 0
/* 800D8954 000D5894  38 A0 20 00 */	li r5, 0x2000
/* 800D8958 000D5898  4B FF E3 05 */	bl __CARDRead
/* 800D895C 000D589C  7C 7C 1B 79 */	or. r28, r3, r3
/* 800D8960 000D58A0  40 80 00 10 */	bge .L_800D8970
/* 800D8964 000D58A4  38 7F 00 00 */	addi r3, r31, 0
/* 800D8968 000D58A8  38 9C 00 00 */	addi r4, r28, 0
/* 800D896C 000D58AC  4B FF CD 19 */	bl __CARDPutControlBlock
.L_800D8970:
/* 800D8970 000D58B0  7F 83 E3 78 */	mr r3, r28
/* 800D8974 000D58B4  48 00 00 30 */	b .L_800D89A4
.L_800D8978:
/* 800D8978 000D58B8  7F A3 EB 78 */	mr r3, r29
/* 800D897C 000D58BC  48 00 86 E9 */	bl EXIUnlock
/* 800D8980 000D58C0  38 7D 00 00 */	addi r3, r29, 0
/* 800D8984 000D58C4  38 9E 00 00 */	addi r4, r30, 0
/* 800D8988 000D58C8  48 00 03 5D */	bl DoUnmount
/* 800D898C 000D58CC  7F C3 F3 78 */	mr r3, r30
/* 800D8990 000D58D0  48 00 00 14 */	b .L_800D89A4
.L_800D8994:
/* 800D8994 000D58D4  38 C4 00 08 */	addi r6, r4, 8
/* 800D8998 000D58D8  4B FF FE 10 */	b .L_800D87A8
.L_800D899C:
/* 800D899C 000D58DC  38 65 00 08 */	addi r3, r5, 8
/* 800D89A0 000D58E0  4B FF FE B4 */	b .L_800D8854
.L_800D89A4:
/* 800D89A4 000D58E4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800D89A8 000D58E8  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 800D89AC 000D58EC  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 800D89B0 000D58F0  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 800D89B4 000D58F4  83 81 00 20 */	lwz r28, 0x20(r1)
/* 800D89B8 000D58F8  38 21 00 30 */	addi r1, r1, 0x30
/* 800D89BC 000D58FC  7C 08 03 A6 */	mtlr r0
/* 800D89C0 000D5900  4E 80 00 20 */	blr 

.global __CARDMountCallback
__CARDMountCallback:
/* 800D89C4 000D5904  7C 08 02 A6 */	mflr r0
/* 800D89C8 000D5908  90 01 00 04 */	stw r0, 4(r1)
/* 800D89CC 000D590C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800D89D0 000D5910  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800D89D4 000D5914  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800D89D8 000D5918  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800D89DC 000D591C  3B A4 00 00 */	addi r29, r4, 0
/* 800D89E0 000D5920  2C 1D FF FD */	cmpwi r29, -3
/* 800D89E4 000D5924  93 81 00 10 */	stw r28, 0x10(r1)
/* 800D89E8 000D5928  3B 83 00 00 */	addi r28, r3, 0
/* 800D89EC 000D592C  1C BC 01 10 */	mulli r5, r28, 0x110
/* 800D89F0 000D5930  3C 60 80 4F */	lis r3, __CARDBlock@ha
/* 800D89F4 000D5934  38 03 5A F0 */	addi r0, r3, __CARDBlock@l
/* 800D89F8 000D5938  7F E0 2A 14 */	add r31, r0, r5
/* 800D89FC 000D593C  41 82 00 A8 */	beq .L_800D8AA4
/* 800D8A00 000D5940  40 80 00 10 */	bge .L_800D8A10
/* 800D8A04 000D5944  2C 1D FF FB */	cmpwi r29, -5
/* 800D8A08 000D5948  41 82 00 9C */	beq .L_800D8AA4
/* 800D8A0C 000D594C  48 00 00 A4 */	b .L_800D8AB0
.L_800D8A10:
/* 800D8A10 000D5950  2C 1D 00 01 */	cmpwi r29, 1
/* 800D8A14 000D5954  41 82 00 4C */	beq .L_800D8A60
/* 800D8A18 000D5958  40 80 00 98 */	bge .L_800D8AB0
/* 800D8A1C 000D595C  2C 1D 00 00 */	cmpwi r29, 0
/* 800D8A20 000D5960  40 80 00 08 */	bge .L_800D8A28
/* 800D8A24 000D5964  48 00 00 8C */	b .L_800D8AB0
.L_800D8A28:
/* 800D8A28 000D5968  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 800D8A2C 000D596C  38 03 00 01 */	addi r0, r3, 1
/* 800D8A30 000D5970  2C 00 00 07 */	cmpwi r0, 7
/* 800D8A34 000D5974  90 1F 00 24 */	stw r0, 0x24(r31)
/* 800D8A38 000D5978  40 80 00 18 */	bge .L_800D8A50
/* 800D8A3C 000D597C  7F 83 E3 78 */	mr r3, r28
/* 800D8A40 000D5980  4B FF FB 75 */	bl DoMount
/* 800D8A44 000D5984  7C 7D 1B 79 */	or. r29, r3, r3
/* 800D8A48 000D5988  41 80 00 68 */	blt .L_800D8AB0
/* 800D8A4C 000D598C  48 00 00 90 */	b .L_800D8ADC
.L_800D8A50:
/* 800D8A50 000D5990  7F E3 FB 78 */	mr r3, r31
/* 800D8A54 000D5994  4B FF F2 71 */	bl __CARDVerify
/* 800D8A58 000D5998  7C 7D 1B 78 */	mr r29, r3
/* 800D8A5C 000D599C  48 00 00 54 */	b .L_800D8AB0
.L_800D8A60:
/* 800D8A60 000D59A0  3C 60 80 0E */	lis r3, __CARDMountCallback@ha
/* 800D8A64 000D59A4  38 03 89 C4 */	addi r0, r3, __CARDMountCallback@l
/* 800D8A68 000D59A8  3C 60 80 0D */	lis r3, __CARDUnlockedHandler@ha
/* 800D8A6C 000D59AC  90 1F 00 DC */	stw r0, 0xdc(r31)
/* 800D8A70 000D59B0  38 A3 49 3C */	addi r5, r3, __CARDUnlockedHandler@l
/* 800D8A74 000D59B4  38 7C 00 00 */	addi r3, r28, 0
/* 800D8A78 000D59B8  38 80 00 00 */	li r4, 0
/* 800D8A7C 000D59BC  48 00 84 F5 */	bl EXILock
/* 800D8A80 000D59C0  2C 03 00 00 */	cmpwi r3, 0
/* 800D8A84 000D59C4  41 82 00 58 */	beq .L_800D8ADC
/* 800D8A88 000D59C8  38 00 00 00 */	li r0, 0
/* 800D8A8C 000D59CC  90 1F 00 DC */	stw r0, 0xdc(r31)
/* 800D8A90 000D59D0  7F 83 E3 78 */	mr r3, r28
/* 800D8A94 000D59D4  4B FF FB 21 */	bl DoMount
/* 800D8A98 000D59D8  7C 7D 1B 79 */	or. r29, r3, r3
/* 800D8A9C 000D59DC  41 80 00 14 */	blt .L_800D8AB0
/* 800D8AA0 000D59E0  48 00 00 3C */	b .L_800D8ADC
.L_800D8AA4:
/* 800D8AA4 000D59E4  38 7C 00 00 */	addi r3, r28, 0
/* 800D8AA8 000D59E8  38 9D 00 00 */	addi r4, r29, 0
/* 800D8AAC 000D59EC  48 00 02 39 */	bl DoUnmount
.L_800D8AB0:
/* 800D8AB0 000D59F0  83 DF 00 D0 */	lwz r30, 0xd0(r31)
/* 800D8AB4 000D59F4  38 00 00 00 */	li r0, 0
/* 800D8AB8 000D59F8  38 7F 00 00 */	addi r3, r31, 0
/* 800D8ABC 000D59FC  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 800D8AC0 000D5A00  7F A4 EB 78 */	mr r4, r29
/* 800D8AC4 000D5A04  4B FF CB C1 */	bl __CARDPutControlBlock
/* 800D8AC8 000D5A08  39 9E 00 00 */	addi r12, r30, 0
/* 800D8ACC 000D5A0C  7D 88 03 A6 */	mtlr r12
/* 800D8AD0 000D5A10  38 7C 00 00 */	addi r3, r28, 0
/* 800D8AD4 000D5A14  38 9D 00 00 */	addi r4, r29, 0
/* 800D8AD8 000D5A18  4E 80 00 21 */	blrl 
.L_800D8ADC:
/* 800D8ADC 000D5A1C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800D8AE0 000D5A20  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800D8AE4 000D5A24  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800D8AE8 000D5A28  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800D8AEC 000D5A2C  83 81 00 10 */	lwz r28, 0x10(r1)
/* 800D8AF0 000D5A30  38 21 00 20 */	addi r1, r1, 0x20
/* 800D8AF4 000D5A34  7C 08 03 A6 */	mtlr r0
/* 800D8AF8 000D5A38  4E 80 00 20 */	blr 

.global CARDMountAsync
CARDMountAsync:
/* 800D8AFC 000D5A3C  7C 08 02 A6 */	mflr r0
/* 800D8B00 000D5A40  90 01 00 04 */	stw r0, 4(r1)
/* 800D8B04 000D5A44  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800D8B08 000D5A48  BF 41 00 18 */	stmw r26, 0x18(r1)
/* 800D8B0C 000D5A4C  7C 7E 1B 79 */	or. r30, r3, r3
/* 800D8B10 000D5A50  3B 44 00 00 */	addi r26, r4, 0
/* 800D8B14 000D5A54  3B 65 00 00 */	addi r27, r5, 0
/* 800D8B18 000D5A58  3B A6 00 00 */	addi r29, r6, 0
/* 800D8B1C 000D5A5C  41 80 00 0C */	blt .L_800D8B28
/* 800D8B20 000D5A60  2C 1E 00 02 */	cmpwi r30, 2
/* 800D8B24 000D5A64  41 80 00 0C */	blt .L_800D8B30
.L_800D8B28:
/* 800D8B28 000D5A68  38 60 FF 80 */	li r3, -128
/* 800D8B2C 000D5A6C  48 00 01 5C */	b .L_800D8C88
.L_800D8B30:
/* 800D8B30 000D5A70  3C 60 80 00 */	lis r3, 0x800030E3@ha
/* 800D8B34 000D5A74  88 03 30 E3 */	lbz r0, 0x800030E3@l(r3)
/* 800D8B38 000D5A78  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 800D8B3C 000D5A7C  41 82 00 0C */	beq .L_800D8B48
/* 800D8B40 000D5A80  38 60 FF FD */	li r3, -3
/* 800D8B44 000D5A84  48 00 01 44 */	b .L_800D8C88
.L_800D8B48:
/* 800D8B48 000D5A88  1C 9E 01 10 */	mulli r4, r30, 0x110
/* 800D8B4C 000D5A8C  3C 60 80 4F */	lis r3, __CARDBlock@ha
/* 800D8B50 000D5A90  38 03 5A F0 */	addi r0, r3, __CARDBlock@l
/* 800D8B54 000D5A94  7F E0 22 14 */	add r31, r0, r4
/* 800D8B58 000D5A98  48 01 60 E1 */	bl OSDisableInterrupts
/* 800D8B5C 000D5A9C  80 1F 00 04 */	lwz r0, 4(r31)
/* 800D8B60 000D5AA0  3B 83 00 00 */	addi r28, r3, 0
/* 800D8B64 000D5AA4  2C 00 FF FF */	cmpwi r0, -1
/* 800D8B68 000D5AA8  40 82 00 14 */	bne .L_800D8B7C
/* 800D8B6C 000D5AAC  7F 83 E3 78 */	mr r3, r28
/* 800D8B70 000D5AB0  48 01 60 F1 */	bl OSRestoreInterrupts
/* 800D8B74 000D5AB4  38 60 FF FF */	li r3, -1
/* 800D8B78 000D5AB8  48 00 01 10 */	b .L_800D8C88
.L_800D8B7C:
/* 800D8B7C 000D5ABC  80 1F 00 00 */	lwz r0, 0(r31)
/* 800D8B80 000D5AC0  2C 00 00 00 */	cmpwi r0, 0
/* 800D8B84 000D5AC4  40 82 00 24 */	bne .L_800D8BA8
/* 800D8B88 000D5AC8  7F C3 F3 78 */	mr r3, r30
/* 800D8B8C 000D5ACC  48 00 85 B5 */	bl EXIGetState
/* 800D8B90 000D5AD0  54 60 07 39 */	rlwinm. r0, r3, 0, 0x1c, 0x1c
/* 800D8B94 000D5AD4  41 82 00 14 */	beq .L_800D8BA8
/* 800D8B98 000D5AD8  7F 83 E3 78 */	mr r3, r28
/* 800D8B9C 000D5ADC  48 01 60 C5 */	bl OSRestoreInterrupts
/* 800D8BA0 000D5AE0  38 60 FF FE */	li r3, -2
/* 800D8BA4 000D5AE4  48 00 00 E4 */	b .L_800D8C88
.L_800D8BA8:
/* 800D8BA8 000D5AE8  38 00 FF FF */	li r0, -1
/* 800D8BAC 000D5AEC  90 1F 00 04 */	stw r0, 4(r31)
/* 800D8BB0 000D5AF0  28 1D 00 00 */	cmplwi r29, 0
/* 800D8BB4 000D5AF4  93 5F 00 80 */	stw r26, 0x80(r31)
/* 800D8BB8 000D5AF8  93 7F 00 C4 */	stw r27, 0xc4(r31)
/* 800D8BBC 000D5AFC  41 82 00 0C */	beq .L_800D8BC8
/* 800D8BC0 000D5B00  7F A0 EB 78 */	mr r0, r29
/* 800D8BC4 000D5B04  48 00 00 0C */	b .L_800D8BD0
.L_800D8BC8:
/* 800D8BC8 000D5B08  3C 60 80 0D */	lis r3, __CARDDefaultApiCallback@ha
/* 800D8BCC 000D5B0C  38 03 46 6C */	addi r0, r3, __CARDDefaultApiCallback@l
.L_800D8BD0:
/* 800D8BD0 000D5B10  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 800D8BD4 000D5B14  38 00 00 00 */	li r0, 0
/* 800D8BD8 000D5B18  90 1F 00 CC */	stw r0, 0xcc(r31)
/* 800D8BDC 000D5B1C  80 1F 00 00 */	lwz r0, 0(r31)
/* 800D8BE0 000D5B20  2C 00 00 00 */	cmpwi r0, 0
/* 800D8BE4 000D5B24  40 82 00 34 */	bne .L_800D8C18
/* 800D8BE8 000D5B28  3C 60 80 0D */	lis r3, __CARDExtHandler@ha
/* 800D8BEC 000D5B2C  38 83 46 A4 */	addi r4, r3, __CARDExtHandler@l
/* 800D8BF0 000D5B30  38 7E 00 00 */	addi r3, r30, 0
/* 800D8BF4 000D5B34  48 00 79 F5 */	bl EXIAttach
/* 800D8BF8 000D5B38  2C 03 00 00 */	cmpwi r3, 0
/* 800D8BFC 000D5B3C  40 82 00 1C */	bne .L_800D8C18
/* 800D8C00 000D5B40  38 00 FF FD */	li r0, -3
/* 800D8C04 000D5B44  90 1F 00 04 */	stw r0, 4(r31)
/* 800D8C08 000D5B48  7F 83 E3 78 */	mr r3, r28
/* 800D8C0C 000D5B4C  48 01 60 55 */	bl OSRestoreInterrupts
/* 800D8C10 000D5B50  38 60 FF FD */	li r3, -3
/* 800D8C14 000D5B54  48 00 00 74 */	b .L_800D8C88
.L_800D8C18:
/* 800D8C18 000D5B58  3B A0 00 00 */	li r29, 0
/* 800D8C1C 000D5B5C  93 BF 00 24 */	stw r29, 0x24(r31)
/* 800D8C20 000D5B60  38 00 00 01 */	li r0, 1
/* 800D8C24 000D5B64  38 7E 00 00 */	addi r3, r30, 0
/* 800D8C28 000D5B68  90 1F 00 00 */	stw r0, 0(r31)
/* 800D8C2C 000D5B6C  38 80 00 00 */	li r4, 0
/* 800D8C30 000D5B70  48 00 76 95 */	bl EXISetExiCallback
/* 800D8C34 000D5B74  38 7F 00 E0 */	addi r3, r31, 0xe0
/* 800D8C38 000D5B78  48 01 31 9D */	bl OSCancelAlarm
/* 800D8C3C 000D5B7C  93 BF 00 84 */	stw r29, 0x84(r31)
/* 800D8C40 000D5B80  7F 83 E3 78 */	mr r3, r28
/* 800D8C44 000D5B84  93 BF 00 88 */	stw r29, 0x88(r31)
/* 800D8C48 000D5B88  48 01 60 19 */	bl OSRestoreInterrupts
/* 800D8C4C 000D5B8C  3C 60 80 0E */	lis r3, __CARDMountCallback@ha
/* 800D8C50 000D5B90  38 03 89 C4 */	addi r0, r3, __CARDMountCallback@l
/* 800D8C54 000D5B94  3C 60 80 0D */	lis r3, __CARDUnlockedHandler@ha
/* 800D8C58 000D5B98  90 1F 00 DC */	stw r0, 0xdc(r31)
/* 800D8C5C 000D5B9C  38 A3 49 3C */	addi r5, r3, __CARDUnlockedHandler@l
/* 800D8C60 000D5BA0  38 7E 00 00 */	addi r3, r30, 0
/* 800D8C64 000D5BA4  38 80 00 00 */	li r4, 0
/* 800D8C68 000D5BA8  48 00 83 09 */	bl EXILock
/* 800D8C6C 000D5BAC  2C 03 00 00 */	cmpwi r3, 0
/* 800D8C70 000D5BB0  40 82 00 0C */	bne .L_800D8C7C
/* 800D8C74 000D5BB4  38 60 00 00 */	li r3, 0
/* 800D8C78 000D5BB8  48 00 00 10 */	b .L_800D8C88
.L_800D8C7C:
/* 800D8C7C 000D5BBC  93 BF 00 DC */	stw r29, 0xdc(r31)
/* 800D8C80 000D5BC0  7F C3 F3 78 */	mr r3, r30
/* 800D8C84 000D5BC4  4B FF F9 31 */	bl DoMount
.L_800D8C88:
/* 800D8C88 000D5BC8  BB 41 00 18 */	lmw r26, 0x18(r1)
/* 800D8C8C 000D5BCC  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800D8C90 000D5BD0  38 21 00 30 */	addi r1, r1, 0x30
/* 800D8C94 000D5BD4  7C 08 03 A6 */	mtlr r0
/* 800D8C98 000D5BD8  4E 80 00 20 */	blr 

.global CARDMount
CARDMount:
/* 800D8C9C 000D5BDC  7C 08 02 A6 */	mflr r0
/* 800D8CA0 000D5BE0  3C C0 80 0D */	lis r6, __CARDSyncCallback@ha
/* 800D8CA4 000D5BE4  90 01 00 04 */	stw r0, 4(r1)
/* 800D8CA8 000D5BE8  38 C6 46 70 */	addi r6, r6, __CARDSyncCallback@l
/* 800D8CAC 000D5BEC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800D8CB0 000D5BF0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800D8CB4 000D5BF4  3B E3 00 00 */	addi r31, r3, 0
/* 800D8CB8 000D5BF8  4B FF FE 45 */	bl CARDMountAsync
/* 800D8CBC 000D5BFC  2C 03 00 00 */	cmpwi r3, 0
/* 800D8CC0 000D5C00  40 80 00 08 */	bge .L_800D8CC8
/* 800D8CC4 000D5C04  48 00 00 0C */	b .L_800D8CD0
.L_800D8CC8:
/* 800D8CC8 000D5C08  7F E3 FB 78 */	mr r3, r31
/* 800D8CCC 000D5C0C  4B FF CB 6D */	bl __CARDSync
.L_800D8CD0:
/* 800D8CD0 000D5C10  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800D8CD4 000D5C14  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800D8CD8 000D5C18  38 21 00 20 */	addi r1, r1, 0x20
/* 800D8CDC 000D5C1C  7C 08 03 A6 */	mtlr r0
/* 800D8CE0 000D5C20  4E 80 00 20 */	blr 

.global DoUnmount
DoUnmount:
/* 800D8CE4 000D5C24  7C 08 02 A6 */	mflr r0
/* 800D8CE8 000D5C28  90 01 00 04 */	stw r0, 4(r1)
/* 800D8CEC 000D5C2C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800D8CF0 000D5C30  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800D8CF4 000D5C34  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800D8CF8 000D5C38  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800D8CFC 000D5C3C  3B A4 00 00 */	addi r29, r4, 0
/* 800D8D00 000D5C40  93 81 00 10 */	stw r28, 0x10(r1)
/* 800D8D04 000D5C44  3B 83 00 00 */	addi r28, r3, 0
/* 800D8D08 000D5C48  1C BC 01 10 */	mulli r5, r28, 0x110
/* 800D8D0C 000D5C4C  3C 60 80 4F */	lis r3, __CARDBlock@ha
/* 800D8D10 000D5C50  38 03 5A F0 */	addi r0, r3, __CARDBlock@l
/* 800D8D14 000D5C54  7F E0 2A 14 */	add r31, r0, r5
/* 800D8D18 000D5C58  48 01 5F 21 */	bl OSDisableInterrupts
/* 800D8D1C 000D5C5C  80 1F 00 00 */	lwz r0, 0(r31)
/* 800D8D20 000D5C60  3B C3 00 00 */	addi r30, r3, 0
/* 800D8D24 000D5C64  2C 00 00 00 */	cmpwi r0, 0
/* 800D8D28 000D5C68  41 82 00 30 */	beq .L_800D8D58
/* 800D8D2C 000D5C6C  38 7C 00 00 */	addi r3, r28, 0
/* 800D8D30 000D5C70  38 80 00 00 */	li r4, 0
/* 800D8D34 000D5C74  48 00 75 91 */	bl EXISetExiCallback
/* 800D8D38 000D5C78  7F 83 E3 78 */	mr r3, r28
/* 800D8D3C 000D5C7C  48 00 79 B9 */	bl EXIDetach
/* 800D8D40 000D5C80  38 7F 00 E0 */	addi r3, r31, 0xe0
/* 800D8D44 000D5C84  48 01 30 91 */	bl OSCancelAlarm
/* 800D8D48 000D5C88  38 00 00 00 */	li r0, 0
/* 800D8D4C 000D5C8C  90 1F 00 00 */	stw r0, 0(r31)
/* 800D8D50 000D5C90  93 BF 00 04 */	stw r29, 4(r31)
/* 800D8D54 000D5C94  90 1F 00 24 */	stw r0, 0x24(r31)
.L_800D8D58:
/* 800D8D58 000D5C98  7F C3 F3 78 */	mr r3, r30
/* 800D8D5C 000D5C9C  48 01 5F 05 */	bl OSRestoreInterrupts
/* 800D8D60 000D5CA0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800D8D64 000D5CA4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800D8D68 000D5CA8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800D8D6C 000D5CAC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800D8D70 000D5CB0  83 81 00 10 */	lwz r28, 0x10(r1)
/* 800D8D74 000D5CB4  38 21 00 20 */	addi r1, r1, 0x20
/* 800D8D78 000D5CB8  7C 08 03 A6 */	mtlr r0
/* 800D8D7C 000D5CBC  4E 80 00 20 */	blr 

.global CARDUnmount
CARDUnmount:
/* 800D8D80 000D5CC0  7C 08 02 A6 */	mflr r0
/* 800D8D84 000D5CC4  90 01 00 04 */	stw r0, 4(r1)
/* 800D8D88 000D5CC8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800D8D8C 000D5CCC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800D8D90 000D5CD0  38 81 00 0C */	addi r4, r1, 0xc
/* 800D8D94 000D5CD4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800D8D98 000D5CD8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800D8D9C 000D5CDC  3B A3 00 00 */	addi r29, r3, 0
/* 800D8DA0 000D5CE0  4B FF C8 2D */	bl __CARDGetControlBlock
/* 800D8DA4 000D5CE4  2C 03 00 00 */	cmpwi r3, 0
/* 800D8DA8 000D5CE8  40 80 00 08 */	bge .L_800D8DB0
/* 800D8DAC 000D5CEC  48 00 00 64 */	b .L_800D8E10
.L_800D8DB0:
/* 800D8DB0 000D5CF0  1C 9D 01 10 */	mulli r4, r29, 0x110
/* 800D8DB4 000D5CF4  3C 60 80 4F */	lis r3, __CARDBlock@ha
/* 800D8DB8 000D5CF8  38 03 5A F0 */	addi r0, r3, __CARDBlock@l
/* 800D8DBC 000D5CFC  7F C0 22 14 */	add r30, r0, r4
/* 800D8DC0 000D5D00  48 01 5E 79 */	bl OSDisableInterrupts
/* 800D8DC4 000D5D04  80 1E 00 00 */	lwz r0, 0(r30)
/* 800D8DC8 000D5D08  3B E3 00 00 */	addi r31, r3, 0
/* 800D8DCC 000D5D0C  2C 00 00 00 */	cmpwi r0, 0
/* 800D8DD0 000D5D10  41 82 00 34 */	beq .L_800D8E04
/* 800D8DD4 000D5D14  38 7D 00 00 */	addi r3, r29, 0
/* 800D8DD8 000D5D18  38 80 00 00 */	li r4, 0
/* 800D8DDC 000D5D1C  48 00 74 E9 */	bl EXISetExiCallback
/* 800D8DE0 000D5D20  7F A3 EB 78 */	mr r3, r29
/* 800D8DE4 000D5D24  48 00 79 11 */	bl EXIDetach
/* 800D8DE8 000D5D28  38 7E 00 E0 */	addi r3, r30, 0xe0
/* 800D8DEC 000D5D2C  48 01 2F E9 */	bl OSCancelAlarm
/* 800D8DF0 000D5D30  38 60 00 00 */	li r3, 0
/* 800D8DF4 000D5D34  90 7E 00 00 */	stw r3, 0(r30)
/* 800D8DF8 000D5D38  38 00 FF FD */	li r0, -3
/* 800D8DFC 000D5D3C  90 1E 00 04 */	stw r0, 4(r30)
/* 800D8E00 000D5D40  90 7E 00 24 */	stw r3, 0x24(r30)
.L_800D8E04:
/* 800D8E04 000D5D44  7F E3 FB 78 */	mr r3, r31
/* 800D8E08 000D5D48  48 01 5E 59 */	bl OSRestoreInterrupts
/* 800D8E0C 000D5D4C  38 60 00 00 */	li r3, 0
.L_800D8E10:
/* 800D8E10 000D5D50  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800D8E14 000D5D54  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800D8E18 000D5D58  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800D8E1C 000D5D5C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800D8E20 000D5D60  38 21 00 20 */	addi r1, r1, 0x20
/* 800D8E24 000D5D64  7C 08 03 A6 */	mtlr r0
/* 800D8E28 000D5D68  4E 80 00 20 */	blr 
