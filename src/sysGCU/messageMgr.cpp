#include "types.h"

/*
    Generated from dpostproc

    .section .ctors, "wa"  # 0x80472F00 - 0x804732C0
        .4byte __sinit_messageMgr_cpp

    .section .rodata  # 0x804732E0 - 0x8049E220
    .global lbl_8049A8D0
    lbl_8049A8D0:
        .skip 0xC
    .global lbl_8049A8DC
    lbl_8049A8DC:
        .asciz "/message/font_foreign.szs"
        .skip 2
    .global lbl_8049A8F8
    lbl_8049A8F8:
        .asciz "/message/font_jpn.szs"
        .skip 2
    .global lbl_8049A910
    lbl_8049A910:
        .asciz "/message/mesRes_eng.szs"
    .global lbl_8049A928
    lbl_8049A928:
        .asciz "/message/mesRes_fra.szs"
    .global lbl_8049A940
    lbl_8049A940:
        .asciz "/message/mesRes_ger.szs"
    .global lbl_8049A958
    lbl_8049A958:
        .asciz "/message/mesRes_hol.szs"
    .global lbl_8049A970
    lbl_8049A970:
        .asciz "/message/mesRes_ita.szs"
    .global lbl_8049A988
    lbl_8049A988:
        .asciz "/message/mesRes_jpn.szs"
    .global lbl_8049A9A0
    lbl_8049A9A0:
        .asciz "/message/mesRes_spa.szs"
    .global lbl_8049A9B8
    lbl_8049A9B8:
        .asciz "a_btn.bti"
        .skip 2
    .global lbl_8049A9C4
    lbl_8049A9C4:
        .asciz "b_btn.bti"
        .skip 2
    .global lbl_8049A9D0
    lbl_8049A9D0:
        .asciz "c_btn.bti"
        .skip 2
    .global lbl_8049A9DC
    lbl_8049A9DC:
        .asciz "x_btn.bti"
        .skip 2
    .global lbl_8049A9E8
    lbl_8049A9E8:
        .asciz "y_btn.bti"
        .skip 2
    .global lbl_8049A9F4
    lbl_8049A9F4:
        .asciz "z_btn.bti"
        .skip 2
    .global lbl_8049AA00
    lbl_8049AA00:
        .asciz "l_btn.bti"
        .skip 2
    .global lbl_8049AA0C
    lbl_8049AA0C:
        .asciz "r_btn.bti"
        .skip 2
    .global lbl_8049AA18
    lbl_8049AA18:
        .asciz "3d_btn.bti"
        .skip 1
    .global lbl_8049AA24
    lbl_8049AA24:
        .asciz "st_btn.bti"
        .skip 1
    .global lbl_8049AA30
    lbl_8049AA30:
        .asciz "t_btn.bti"
        .skip 2
    .global lbl_8049AA3C
    lbl_8049AA3C:
        .asciz "messageMgr.cpp"
        .skip 1
    .global lbl_8049AA4C
    lbl_8049AA4C:
        .asciz "P2Assert"
        .skip 3
        .asciz "MessageMgr"
        .skip 1
        .asciz "font res"
        .skip 3
        .asciz "pikmin2main.bfn"
        .asciz "pikmin2.bmg"
        .asciz "pikmin2.bmc"
        .asciz "/user/Yamashita/arc/gameTex.szs"
        .asciz "cacheFont"
        .skip 2
        .4byte 0x0982A082
        .4byte 0xA282A482
        .4byte 0xA682A882
        .4byte 0xA982AB82
        .4byte 0xAD82AF82
        .4byte 0xB182B382
        .4byte 0xB582B782
        .4byte 0xB982BB82
        .4byte 0xBD82BF82
        .4byte 0xB782C482
        .4byte 0xC682C882
        .4byte 0xC982CA82
        .4byte 0xCB82CC82
        .4byte 0xCD82D082
        .4byte 0xB782D682
        .4byte 0xD982DC82
        .4byte 0xDD82DE82
        .4byte 0xDF82E082
        .4byte 0xE282E482
        .4byte 0xE682ED82
        .4byte 0xF1098341
        .4byte 0x83438345
        .4byte 0x83478349
        .4byte 0x834A834C
        .4byte 0x834E8350
        .4byte 0x83528354
        .4byte 0x83568358
        .4byte 0x835A835C
        .4byte 0x835E8360
        .4byte 0x83638365
        .4byte 0x83678369
        .4byte 0x836A836B
        .4byte 0x836C836D
        .4byte 0x836E8371
        .4byte 0x83748377
        .4byte 0x837A837D
        .4byte 0x837E8380
        .4byte 0x83818382
        .4byte 0x83848386
        .4byte 0x8388838F
        .4byte 0x83930900
        .4byte 0x83818362
        .4byte 0x835A815B
        .4byte 0x835782CC
        .4byte 0x8370815B
        .4byte 0x83580000
        .4byte 0x83818362
        .4byte 0x835A815B
        .4byte 0x8357834A
        .4byte 0x8389815B
        .4byte 0x82CC8370
        .4byte 0x815B8358
        .4byte 0x00000000

    .section .data, "wa"  # 0x8049E220 - 0x804EFC20
    .global lbl_804EC970
    lbl_804EC970:
        .4byte 0x00000000
        .4byte 0x00000000
        .4byte 0x00000000
    .global sFontResName__5P2JME
    sFontResName__5P2JME:
        .4byte lbl_8049A8DC
        .4byte lbl_8049A8DC
        .4byte lbl_8049A8DC
        .4byte lbl_8049A8DC
        .4byte lbl_8049A8DC
        .4byte lbl_8049A8F8
        .4byte lbl_8049A8DC
    .global sMesResName__5P2JME
    sMesResName__5P2JME:
        .4byte lbl_8049A910
        .4byte lbl_8049A928
        .4byte lbl_8049A940
        .4byte lbl_8049A958
        .4byte lbl_8049A970
        .4byte lbl_8049A988
        .4byte lbl_8049A9A0
    .global cBtnTexName__5P2JME
    cBtnTexName__5P2JME:
        .4byte lbl_8049A9B8
        .4byte lbl_8049A9C4
        .4byte lbl_8049A9D0
        .4byte lbl_8049A9DC
        .4byte lbl_8049A9E8
        .4byte lbl_8049A9F4
        .4byte lbl_8049AA00
        .4byte lbl_8049AA0C
        .4byte lbl_8049AA18
        .4byte lbl_8049AA24
        .4byte lbl_8049AA30
    .global __vt__Q25P2JME3Mgr
    __vt__Q25P2JME3Mgr:
        .4byte 0
        .4byte 0
        .4byte __dt__Q25P2JME3MgrFv
        .4byte 0

    .section .sbss # 0x80514D80 - 0x80516360
    .global lbl_80516250
    lbl_80516250:
        .skip 0x4
    .global lbl_80516254
    lbl_80516254:
        .skip 0x4
    .global gP2JMEMgr
    gP2JMEMgr:
        .skip 0x8

    .section .sdata2, "a"     # 0x80516360 - 0x80520E40
    .global lbl_80520890
    lbl_80520890:
        .asciz "tex res"
    .global lbl_80520898
    lbl_80520898:
        .asciz "resFont"
    .global lbl_805208A0
    lbl_805208A0:
        .asciz "bmg"
*/

namespace P2JME {

/*
 * --INFO--
 * Address:	........
 * Size:	00001C
 */
void getCurrentFontResName()
{
	// UNUSED FUNCTION
}

/*
 * --INFO--
 * Address:	........
 * Size:	00001C
 */
void getCurrentMesResName()
{
	// UNUSED FUNCTION
}

/*
 * --INFO--
 * Address:	80437EAC
 * Size:	000040
 */
void Mgr::create(JKRExpHeap*)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	stw      r0, 0x14(r1)
	stw      r31, 0xc(r1)
	mr       r31, r3
	li       r3, 0x38
	bl       __nw__FUl
	cmplwi   r3, 0
	beq      lbl_80437ED8
	mr       r4, r31
	bl       __ct__Q25P2JME3MgrFP10JKRExpHeap

lbl_80437ED8:
	lwz      r0, 0x14(r1)
	lwz      r31, 0xc(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	80437EEC
 * Size:	000170
 */
Mgr::Mgr(JKRExpHeap*)
{
	/*
	stwu     r1, -0x20(r1)
	mflr     r0
	lis      r5, lbl_8049A8D0@ha
	stw      r0, 0x24(r1)
	stw      r31, 0x1c(r1)
	stw      r30, 0x18(r1)
	addi     r30, r5, lbl_8049A8D0@l
	stw      r29, 0x14(r1)
	mr       r29, r4
	stw      r28, 0x10(r1)
	mr       r28, r3
	bl       __ct__11JKRDisposerFv
	lis      r3, __vt__Q25P2JME3Mgr@ha
	li       r0, 0
	addi     r3, r3, __vt__Q25P2JME3Mgr@l
	stw      r3, 0(r28)
	stw      r0, 0x1c(r28)
	stw      r0, 0x20(r28)
	stw      r0, 0x24(r28)
	stb      r0, 0x28(r28)
	stw      r0, 0x2c(r28)
	stw      r0, 0x30(r28)
	stw      r0, 0x34(r28)
	lwz      r0, gP2JMEMgr@sda21(r13)
	cmplwi   r0, 0
	beq      lbl_80437F68
	addi     r3, r30, 0x16c
	addi     r5, r30, 0x17c
	li       r4, 0xc2
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_80437F68:
	stw      r28, gP2JMEMgr@sda21(r13)
	addi     r4, r30, 0x188
	lwz      r3, sys@sda21(r13)
	li       r5, 0
	bl       heapStatusStart__6SystemFPcP7JKRHeap
	li       r3, 4
	bl       __nwa__FUl
	stw      r3, 0x24(r28)
	li       r3, 4
	bl       __nwa__FUl
	stw      r3, 0x20(r28)
	li       r31, 0
	li       r3, 4
	lwz      r4, 0x24(r28)
	stw      r31, 0(r4)
	bl       __nw__FUl
	lwz      r6, 0x20(r28)
	addi     r4, r30, 0x194
	li       r5, 0
	stw      r3, 0(r6)
	lwz      r3, 0x20(r28)
	stw      r31, 0(r3)
	lwz      r3, sys@sda21(r13)
	bl       heapStatusStart__6SystemFPcP7JKRHeap
	mr       r3, r28
	mr       r5, r29
	addi     r4, r30, 0x1a0
	bl       setupFont__Q25P2JME3MgrFPCcP10JKRExpHeap
	lwz      r3, sys@sda21(r13)
	addi     r4, r30, 0x194
	bl       heapStatusEnd__6SystemFPc
	lwz      r3, sys@sda21(r13)
	addi     r4, r2, lbl_80520890@sda21
	li       r5, 0
	bl       heapStatusStart__6SystemFPcP7JKRHeap
	mr       r3, r28
	bl       setupTex__Q25P2JME3MgrFv
	lwz      r3, sys@sda21(r13)
	addi     r4, r2, lbl_80520890@sda21
	bl       heapStatusEnd__6SystemFPc
	lwz      r3, sys@sda21(r13)
	addi     r4, r30, 0x188
	bl       heapStatusEnd__6SystemFPc
	lwz      r30, sCurrentHeap__7JKRHeap@sda21(r13)
	li       r0, 0
	mr       r3, r28
	stw      r0, 0x2c(r28)
	bl       setupMessage__Q25P2JME3MgrFv
	mr       r3, r30
	bl       becomeCurrentHeap__7JKRHeapFv
	li       r0, 1
	mr       r3, r28
	stb      r0, 0x28(r28)
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	lwz      r29, 0x14(r1)
	lwz      r28, 0x10(r1)
	lwz      r0, 0x24(r1)
	mtlr     r0
	addi     r1, r1, 0x20
	blr
	*/
}

/*
 * --INFO--
 * Address:	8043805C
 * Size:	000068
 */
Mgr::~Mgr(void)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	stw      r0, 0x14(r1)
	stw      r31, 0xc(r1)
	mr       r31, r4
	stw      r30, 8(r1)
	or.      r30, r3, r3
	beq      lbl_804380A8
	lis      r4, __vt__Q25P2JME3Mgr@ha
	li       r0, 0
	addi     r5, r4, __vt__Q25P2JME3Mgr@l
	li       r4, 0
	stw      r5, 0(r30)
	stw      r0, gP2JMEMgr@sda21(r13)
	bl       __dt__11JKRDisposerFv
	extsh.   r0, r31
	ble      lbl_804380A8
	mr       r3, r30
	bl       __dl__FPv

lbl_804380A8:
	lwz      r0, 0x14(r1)
	mr       r3, r30
	lwz      r31, 0xc(r1)
	lwz      r30, 8(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	........
 * Size:	000004
 */
void Mgr::reloadMessageResource(void)
{
	// UNUSED FUNCTION
}

/*
 * --INFO--
 * Address:	804380C4
 * Size:	000100
 */
void Mgr::setupMessage(void)
{
	/*
	stwu     r1, -0x20(r1)
	mflr     r0
	lis      r4, sMesResName__5P2JME@ha
	lis      r6, lbl_8049A8D0@ha
	stw      r0, 0x24(r1)
	stw      r31, 0x1c(r1)
	mr       r31, r3
	addi     r3, r4, sMesResName__5P2JME@l
	li       r4, 1
	stw      r30, 0x18(r1)
	addi     r30, r6, lbl_8049A8D0@l
	li       r6, 1
	stw      r29, 0x14(r1)
	lwz      r5, sys@sda21(r13)
	lwz      r0, 0xd4(r5)
	li       r5, 0
	slwi     r0, r0, 2
	lwzx     r3, r3, r0
	bl
mount__10JKRArchiveFPCcQ210JKRArchive10EMountModeP7JKRHeapQ210JKRArchive15EMountDirection
	or.      r29, r3, r3
	bne      lbl_8043812C
	addi     r3, r30, 0x16c
	addi     r5, r30, 0x17c
	li       r4, 0x130
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_8043812C:
	li       r3, 0x20
	bl       __nw__FUl
	or.      r0, r3, r3
	beq      lbl_80438144
	bl       __ct__Q28JMessage18TResourceContainerFv
	mr       r0, r3

lbl_80438144:
	stw      r0, 0x30(r31)
	li       r3, 8
	bl       __nw__FUl
	cmplwi   r3, 0
	beq      lbl_80438178
	lis      r5, __vt__Q28JMessage10TReference@ha
	lis      r4, __vt__Q25P2JME10TReference@ha
	addi     r0, r5, __vt__Q28JMessage10TReference@l
	li       r5, 0
	stw      r0, 0(r3)
	addi     r0, r4, __vt__Q25P2JME10TReference@l
	stw      r5, 4(r3)
	stw      r0, 0(r3)

lbl_80438178:
	stw      r3, 0x34(r31)
	mr       r3, r31
	mr       r4, r29
	addi     r5, r30, 0x1b0
	lwz      r0, 0x30(r31)
	lwz      r6, 0x34(r31)
	stw      r0, 4(r6)
	bl       setupMessageResource__Q25P2JME3MgrFP10JKRArchivePCc
	mr       r3, r31
	mr       r4, r29
	addi     r5, r30, 0x1bc
	bl       setupColor__Q25P2JME3MgrFP10JKRArchivePCc
	lwz      r0, 0x24(r1)
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	lwz      r29, 0x14(r1)
	mtlr     r0
	addi     r1, r1, 0x20
	blr
	*/
}

/*
 * --INFO--
 * Address:	804381C4
 * Size:	0000F8
 */
void Mgr::setupTex(void)
{
	/*
	stwu     r1, -0x30(r1)
	mflr     r0
	lis      r4, lbl_8049A8D0@ha
	li       r5, 0
	stw      r0, 0x34(r1)
	li       r6, 1
	stmw     r25, 0x14(r1)
	addi     r30, r4, lbl_8049A8D0@l
	mr       r31, r3
	li       r4, 1
	addi     r3, r30, 0x1c8
	bl
mount__10JKRArchiveFPCcQ210JKRArchive10EMountModeP7JKRHeapQ210JKRArchive15EMountDirection
	mr       r29, r3
	mr       r3, r31
	li       r4, 0
	li       r5, 0xb
	bl       createImage__Q25P2JME3MgrFQ35P2JME10ImageGroup3EIDi
	lis      r3, cBtnTexName__5P2JME@ha
	li       r25, 0
	addi     r27, r3, cBtnTexName__5P2JME@l
	b        lbl_80438298

lbl_80438218:
	mr       r3, r29
	lwz      r4, 0(r27)
	lwz      r12, 0(r29)
	lwz      r12, 0x14(r12)
	mtctr    r12
	bctrl
	or.      r26, r3, r3
	bne      lbl_8043824C
	addi     r3, r30, 0x16c
	addi     r5, r30, 0x17c
	li       r4, 0x158
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_8043824C:
	li       r3, 0x40
	bl       __nw__FUl
	or.      r28, r3, r3
	beq      lbl_8043827C
	li       r0, 0
	mr       r4, r26
	stw      r0, 0x28(r28)
	li       r5, 0
	bl       storeTIMG__10JUTTextureFPC7ResTIMGUc
	lbz      r0, 0x3b(r28)
	rlwinm   r0, r0, 0, 0x1e, 0x1e
	stb      r0, 0x3b(r28)

lbl_8043827C:
	mr       r3, r31
	mr       r5, r25
	mr       r6, r28
	li       r4, 0
	bl       setImage__Q25P2JME3MgrFQ35P2JME10ImageGroup3EIDiP10JUTTexture
	addi     r27, r27, 4
	addi     r25, r25, 1

lbl_80438298:
	lwz      r3, 0x24(r31)
	lwz      r0, 0(r3)
	cmpw     r25, r0
	blt      lbl_80438218
	lmw      r25, 0x14(r1)
	lwz      r0, 0x34(r1)
	mtlr     r0
	addi     r1, r1, 0x30
	blr
	*/
}

/*
 * --INFO--
 * Address:	804382BC
 * Size:	000248
 */
void Mgr::setupFont(char const*, JKRExpHeap*)
{
	/*
	stwu     r1, -0x20(r1)
	mflr     r0
	lis      r7, lbl_8049A8D0@ha
	stw      r0, 0x24(r1)
	stw      r31, 0x1c(r1)
	addi     r31, r7, lbl_8049A8D0@l
	stw      r30, 0x18(r1)
	mr       r30, r4
	stw      r29, 0x14(r1)
	mr       r29, r3
	stw      r28, 0x10(r1)
	mr       r28, r5
	lwz      r6, sys@sda21(r13)
	lwz      r0, 0xd4(r6)
	cmpwi    r0, 5
	bne      lbl_80438448
	lwz      r3, sAramObject__7JKRAram@sda21(r13)
	lwz      r3, 0x94(r3)
	bl       getFreeSize__11JKRAramHeapFv
	lwz      r4, sys@sda21(r13)
	lis      r3, sFontResName__5P2JME@ha
	addi     r3, r3, sFontResName__5P2JME@l
	mr       r5, r28
	lwz      r0, 0xd4(r4)
	li       r4, 1
	li       r6, 2
	slwi     r0, r0, 2
	lwzx     r3, r3, r0
	bl
mount__10JKRArchiveFPCcQ210JKRArchive10EMountModeP7JKRHeapQ210JKRArchive15EMountDirection
	or.      r28, r3, r3
	bne      lbl_8043834C
	addi     r3, r31, 0x16c
	addi     r5, r31, 0x17c
	li       r4, 0x170
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_8043834C:
	lwz      r3, sys@sda21(r13)
	addi     r4, r31, 0x1e8
	li       r5, 0
	bl       heapStatusStart__6SystemFPcP7JKRHeap
	mr       r3, r28
	mr       r4, r30
	lwz      r12, 0(r28)
	lwz      r12, 0x14(r12)
	mtctr    r12
	bctrl
	or.      r30, r3, r3
	bne      lbl_80438390
	addi     r3, r31, 0x16c
	addi     r5, r31, 0x17c
	li       r4, 0x173
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_80438390:
	li       r3, 0xb8
	bl       __nw__FUl
	or.      r0, r3, r3
	beq      lbl_804383B8
	lis      r5, 0x0004C2C0@ha
	lwz      r6, sCurrentHeap__7JKRHeap@sda21(r13)
	mr       r4, r30
	addi     r5, r5, 0x0004C2C0@l
	bl       __ct__12JUTCacheFontFPC7ResFONTUlP7JKRHeap
	mr       r0, r3

lbl_804383B8:
	stw      r0, 0x18(r29)
	lwz      r0, 0x18(r29)
	cmplwi   r0, 0
	bne      lbl_804383DC
	addi     r3, r31, 0x16c
	addi     r5, r31, 0x17c
	li       r4, 0x176
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_804383DC:
	lwz      r3, sys@sda21(r13)
	addi     r4, r31, 0x1e8
	bl       heapStatusEnd__6SystemFPc
	lwz      r3, 0x18(r29)
	lbz      r0, 4(r3)
	cmplwi   r0, 0
	bne      lbl_8043840C
	addi     r3, r31, 0x16c
	addi     r5, r31, 0x17c
	li       r4, 0x17a
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_8043840C:
	lwz      r3, 0x18(r29)
	li       r0, 1
	addi     r4, r31, 0x1f4
	li       r5, 1
	stw      r0, 0x8c(r3)
	lwz      r3, 0x18(r29)
	bl       loadCache_string__12JUTCacheFontFPCcb
	mr       r3, r30
	bl       __dl__FPv
	mr       r3, r28
	lwz      r12, 0(r28)
	lwz      r12, 0xc(r12)
	mtctr    r12
	bctrl
	b        lbl_804384E4

lbl_80438448:
	lis      r3, sFontResName__5P2JME@ha
	slwi     r0, r0, 2
	addi     r3, r3, sFontResName__5P2JME@l
	lwz      r5, sCurrentHeap__7JKRHeap@sda21(r13)
	lwzx     r3, r3, r0
	li       r4, 1
	li       r6, 1
	bl
mount__10JKRArchiveFPCcQ210JKRArchive10EMountModeP7JKRHeapQ210JKRArchive15EMountDirection
	or.      r28, r3, r3
	bne      lbl_80438484
	addi     r3, r31, 0x16c
	addi     r5, r31, 0x17c
	li       r4, 0x197
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_80438484:
	lwz      r3, sys@sda21(r13)
	addi     r4, r2, lbl_80520898@sda21
	li       r5, 0
	bl       heapStatusStart__6SystemFPcP7JKRHeap
	mr       r3, r28
	mr       r4, r30
	lwz      r12, 0(r28)
	lwz      r12, 0x14(r12)
	mtctr    r12
	bctrl
	mr       r0, r3
	li       r3, 0x70
	mr       r28, r0
	bl       __nw__FUl
	or.      r0, r3, r3
	beq      lbl_804384D4
	lwz      r5, sCurrentHeap__7JKRHeap@sda21(r13)
	mr       r4, r28
	bl       __ct__10JUTResFontFPC7ResFONTP7JKRHeap
	mr       r0, r3

lbl_804384D4:
	stw      r0, 0x18(r29)
	addi     r4, r2, lbl_80520898@sda21
	lwz      r3, sys@sda21(r13)
	bl       heapStatusEnd__6SystemFPc

lbl_804384E4:
	lwz      r0, 0x24(r1)
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	lwz      r29, 0x14(r1)
	lwz      r28, 0x10(r1)
	mtlr     r0
	addi     r1, r1, 0x20
	blr
	*/
}

/*
 * --INFO--
 * Address:	80438504
 * Size:	0001A8
 */
void Mgr::createImage(P2JME::ImageGroup::EID, int)
{
	/*
	stwu     r1, -0x20(r1)
	mflr     r0
	stw      r0, 0x24(r1)
	li       r0, 0
	stw      r31, 0x1c(r1)
	or.      r31, r4, r4
	stw      r30, 0x18(r1)
	mr       r30, r5
	stw      r29, 0x14(r1)
	mr       r29, r3
	blt      lbl_8043853C
	cmpwi    r31, 1
	bge      lbl_8043853C
	li       r0, 1

lbl_8043853C:
	clrlwi.  r0, r0, 0x18
	bne      lbl_80438560
	lis      r3, lbl_8049AA3C@ha
	lis      r5, lbl_8049AA4C@ha
	addi     r3, r3, lbl_8049AA3C@l
	li       r4, 0x1a7
	addi     r5, r5, lbl_8049AA4C@l
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_80438560:
	lwz      r3, 0x20(r29)
	slwi     r31, r31, 2
	lwzx     r0, r3, r31
	cmplwi   r0, 0
	beq      lbl_80438590
	lis      r3, lbl_8049AA3C@ha
	lis      r5, lbl_8049AA4C@ha
	addi     r3, r3, lbl_8049AA3C@l
	li       r4, 0x1aa
	addi     r5, r5, lbl_8049AA4C@l
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_80438590:
	lwz      r4, 0x24(r29)
	slwi     r3, r30, 2
	stwx     r30, r4, r31
	bl       __nwa__FUl
	lwz      r5, 0x20(r29)
	cmpwi    r30, 0
	li       r4, 0
	stwx     r3, r5, r31
	ble      lbl_80438690
	cmpwi    r30, 8
	addi     r5, r30, -8
	ble      lbl_80438664
	addi     r0, r5, 7
	li       r3, 0
	srwi     r0, r0, 3
	mtctr    r0
	cmpwi    r5, 0
	ble      lbl_80438664

lbl_804385D8:
	lwz      r0, 0x20(r29)
	li       r12, 0
	addi     r10, r3, 4
	addi     r9, r3, 8
	lwzx     r5, r31, r0
	addi     r8, r3, 0xc
	addi     r7, r3, 0x10
	addi     r6, r3, 0x14
	stwx     r12, r5, r3
	addi     r5, r3, 0x18
	addi     r0, r3, 0x1c
	addi     r3, r3, 0x20
	lwz      r11, 0x20(r29)
	addi     r4, r4, 8
	lwzx     r11, r31, r11
	stwx     r12, r11, r10
	lwz      r10, 0x20(r29)
	lwzx     r10, r31, r10
	stwx     r12, r10, r9
	lwz      r9, 0x20(r29)
	lwzx     r9, r31, r9
	stwx     r12, r9, r8
	lwz      r8, 0x20(r29)
	lwzx     r8, r31, r8
	stwx     r12, r8, r7
	lwz      r7, 0x20(r29)
	lwzx     r7, r31, r7
	stwx     r12, r7, r6
	lwz      r6, 0x20(r29)
	lwzx     r6, r31, r6
	stwx     r12, r6, r5
	lwz      r5, 0x20(r29)
	lwzx     r5, r31, r5
	stwx     r12, r5, r0
	bdnz     lbl_804385D8

lbl_80438664:
	subf     r0, r4, r30
	slwi     r6, r4, 2
	li       r5, 0
	mtctr    r0
	cmpw     r4, r30
	bge      lbl_80438690

lbl_8043867C:
	lwz      r0, 0x20(r29)
	lwzx     r3, r31, r0
	stwx     r5, r3, r6
	addi     r6, r6, 4
	bdnz     lbl_8043867C

lbl_80438690:
	lwz      r0, 0x24(r1)
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	lwz      r29, 0x14(r1)
	mtlr     r0
	addi     r1, r1, 0x20
	blr
	*/
}

/*
 * --INFO--
 * Address:	804386AC
 * Size:	0000C4
 */
void Mgr::setImage(P2JME::ImageGroup::EID, int, JUTTexture*)
{
	/*
	stwu     r1, -0x20(r1)
	mflr     r0
	stw      r0, 0x24(r1)
	li       r0, 0
	stw      r31, 0x1c(r1)
	or.      r31, r4, r4
	stw      r30, 0x18(r1)
	mr       r30, r6
	stw      r29, 0x14(r1)
	mr       r29, r5
	stw      r28, 0x10(r1)
	mr       r28, r3
	blt      lbl_804386EC
	cmpwi    r31, 1
	bge      lbl_804386EC
	li       r0, 1

lbl_804386EC:
	clrlwi.  r0, r0, 0x18
	bne      lbl_80438710
	lis      r3, lbl_8049AA3C@ha
	lis      r5, lbl_8049AA4C@ha
	addi     r3, r3, lbl_8049AA3C@l
	li       r4, 0x1ba
	addi     r5, r5, lbl_8049AA4C@l
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_80438710:
	lwz      r3, 0x24(r28)
	slwi     r31, r31, 2
	lwzx     r0, r3, r31
	cmpw     r0, r29
	bgt      lbl_80438740
	lis      r3, lbl_8049AA3C@ha
	lis      r5, lbl_8049AA4C@ha
	addi     r3, r3, lbl_8049AA3C@l
	li       r4, 0x1bc
	addi     r5, r5, lbl_8049AA4C@l
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_80438740:
	lwz      r3, 0x20(r28)
	slwi     r0, r29, 2
	lwzx     r3, r3, r31
	stwx     r30, r3, r0
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	lwz      r29, 0x14(r1)
	lwz      r28, 0x10(r1)
	lwz      r0, 0x24(r1)
	mtlr     r0
	addi     r1, r1, 0x20
	blr
	*/
}

/*
 * --INFO--
 * Address:	80438770
 * Size:	0000B8
 */
void Mgr::getImage(P2JME::ImageGroup::EID, int)
{
	/*
	stwu     r1, -0x20(r1)
	mflr     r0
	stw      r0, 0x24(r1)
	li       r0, 0
	stw      r31, 0x1c(r1)
	or.      r31, r4, r4
	stw      r30, 0x18(r1)
	mr       r30, r5
	stw      r29, 0x14(r1)
	mr       r29, r3
	blt      lbl_804387A8
	cmpwi    r31, 1
	bge      lbl_804387A8
	li       r0, 1

lbl_804387A8:
	clrlwi.  r0, r0, 0x18
	bne      lbl_804387CC
	lis      r3, lbl_8049AA3C@ha
	lis      r5, lbl_8049AA4C@ha
	addi     r3, r3, lbl_8049AA3C@l
	li       r4, 0x1c8
	addi     r5, r5, lbl_8049AA4C@l
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_804387CC:
	lwz      r3, 0x24(r29)
	slwi     r31, r31, 2
	lwzx     r0, r3, r31
	cmpw     r0, r30
	bgt      lbl_804387FC
	lis      r3, lbl_8049AA3C@ha
	lis      r5, lbl_8049AA4C@ha
	addi     r3, r3, lbl_8049AA3C@l
	li       r4, 0x1ca
	addi     r5, r5, lbl_8049AA4C@l
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_804387FC:
	lwz      r3, 0x20(r29)
	slwi     r0, r30, 2
	lwzx     r3, r3, r31
	lwzx     r3, r3, r0
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	lwz      r29, 0x14(r1)
	lwz      r0, 0x24(r1)
	mtlr     r0
	addi     r1, r1, 0x20
	blr
	*/
}

/*
 * --INFO--
 * Address:	80438828
 * Size:	000104
 */
void Mgr::setupMessageResource(JKRArchive*, char const*)
{
	/*
	stwu     r1, -0x30(r1)
	mflr     r0
	lis      r6, lbl_8049A8D0@ha
	stw      r0, 0x34(r1)
	stw      r31, 0x2c(r1)
	mr       r31, r5
	li       r5, 0
	stw      r30, 0x28(r1)
	addi     r30, r6, lbl_8049A8D0@l
	stw      r29, 0x24(r1)
	mr       r29, r4
	addi     r4, r2, lbl_805208A0@sda21
	stw      r28, 0x20(r1)
	mr       r28, r3
	lwz      r3, sys@sda21(r13)
	bl       heapStatusStart__6SystemFPcP7JKRHeap
	mr       r3, r29
	mr       r4, r31
	lwz      r12, 0(r29)
	lwz      r12, 0x14(r12)
	mtctr    r12
	bctrl
	or.      r31, r3, r3
	bne      lbl_8043889C
	addi     r3, r30, 0x16c
	addi     r5, r30, 0x17c
	li       r4, 0x1da
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_8043889C:
	lwz      r3, sys@sda21(r13)
	addi     r4, r2, lbl_805208A0@sda21
	bl       heapStatusEnd__6SystemFPc
	lwz      r3, sys@sda21(r13)
	addi     r4, r30, 0x298
	li       r5, 0
	bl       heapStatusStart__6SystemFPcP7JKRHeap
	lwz      r4, 0x30(r28)
	addi     r3, r1, 0xc
	bl       __ct__Q28JMessage6TParseFPQ28JMessage18TResourceContainer
	stw      r31, 8(r1)
	addi     r3, r1, 0xc
	addi     r4, r1, 8
	li       r5, 0
	bl       parse_next__Q37JGadget6binary19TParse_header_blockFPPCvUl
	clrlwi.  r0, r3, 0x18
	bne      lbl_804388F4
	addi     r3, r30, 0x16c
	addi     r5, r30, 0x17c
	li       r4, 0x1e4
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_804388F4:
	lwz      r3, sys@sda21(r13)
	addi     r4, r30, 0x298
	bl       heapStatusEnd__6SystemFPc
	addi     r3, r1, 0xc
	li       r4, -1
	bl       __dt__Q28JMessage6TParseFv
	lwz      r0, 0x34(r1)
	lwz      r31, 0x2c(r1)
	lwz      r30, 0x28(r1)
	lwz      r29, 0x24(r1)
	lwz      r28, 0x20(r1)
	mtlr     r0
	addi     r1, r1, 0x30
	blr
	*/
}

/*
 * --INFO--
 * Address:	8043892C
 * Size:	0000E0
 */
void Mgr::setupColor(JKRArchive*, char const*)
{
	/*
	stwu     r1, -0x30(r1)
	mflr     r0
	lis      r6, lbl_8049A8D0@ha
	stw      r0, 0x34(r1)
	stw      r31, 0x2c(r1)
	stw      r30, 0x28(r1)
	addi     r30, r6, lbl_8049A8D0@l
	stw      r29, 0x24(r1)
	mr       r29, r3
	mr       r3, r4
	lwz      r12, 0(r4)
	mr       r4, r5
	lwz      r12, 0x14(r12)
	mtctr    r12
	bctrl
	or.      r31, r3, r3
	bne      lbl_80438984
	addi     r3, r30, 0x16c
	addi     r5, r30, 0x17c
	li       r4, 0x1f5
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_80438984:
	lwz      r3, sys@sda21(r13)
	addi     r4, r30, 0x2ac
	li       r5, 0
	bl       heapStatusStart__6SystemFPcP7JKRHeap
	lwz      r4, 0x30(r29)
	addi     r3, r1, 0xc
	bl       __ct__Q28JMessage12TParse_colorFPQ28JMessage18TResourceContainer
	stw      r31, 8(r1)
	addi     r3, r1, 0xc
	addi     r4, r1, 8
	li       r5, 0x20
	bl       parse_next__Q37JGadget6binary19TParse_header_blockFPPCvUl
	clrlwi.  r0, r3, 0x18
	mr       r31, r3
	bne      lbl_804389D4
	addi     r3, r30, 0x16c
	addi     r5, r30, 0x17c
	li       r4, 0x1fe
	crclr    6
	bl       panic_f__12JUTExceptionFPCciPCce

lbl_804389D4:
	lwz      r3, sys@sda21(r13)
	addi     r4, r30, 0x2ac
	bl       heapStatusEnd__6SystemFPc
	addi     r3, r1, 0xc
	li       r4, -1
	bl       __dt__Q28JMessage12TParse_colorFv
	lwz      r0, 0x34(r1)
	mr       r3, r31
	lwz      r31, 0x2c(r1)
	lwz      r30, 0x28(r1)
	lwz      r29, 0x24(r1)
	mtlr     r0
	addi     r1, r1, 0x30
	blr
	*/
}

} // namespace P2JME

/*
 * --INFO--
 * Address:	80438A0C
 * Size:	000028
 */
void __sinit_messageMgr_cpp(void)
{
	/*
	lis      r4, __float_nan@ha
	li       r0, -1
	lfs      f0, __float_nan@l(r4)
	lis      r3, lbl_804EC970@ha
	stw      r0, lbl_80516250@sda21(r13)
	stfsu    f0, lbl_804EC970@l(r3)
	stfs     f0, lbl_80516254@sda21(r13)
	stfs     f0, 4(r3)
	stfs     f0, 8(r3)
	blr
	*/
}
