#include "types.h"

/*
    Generated from dpostproc

    .section .data, "wa"  # 0x8049E220 - 0x804EFC20
    .global __vt__Q34Game11ShijimiChou9StateRest
    __vt__Q34Game11ShijimiChou9StateRest:
        .4byte 0
        .4byte 0
        .4byte
   init__Q34Game11ShijimiChou9StateRestFPQ24Game9EnemyBasePQ24Game8StateArg
        .4byte exec__Q34Game11ShijimiChou9StateRestFPQ24Game9EnemyBase
        .4byte cleanup__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte resume__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte restart__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte
   transit__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseiPQ24Game8StateArg .4byte
   doDirectDraw__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseR8Graphics .global
   __vt__Q34Game11ShijimiChou10StateLeave
    __vt__Q34Game11ShijimiChou10StateLeave:
        .4byte 0
        .4byte 0
        .4byte
   init__Q34Game11ShijimiChou10StateLeaveFPQ24Game9EnemyBasePQ24Game8StateArg
        .4byte exec__Q34Game11ShijimiChou10StateLeaveFPQ24Game9EnemyBase
        .4byte cleanup__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte resume__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte restart__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte
   transit__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseiPQ24Game8StateArg .4byte
   doDirectDraw__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseR8Graphics .global
   __vt__Q34Game11ShijimiChou9StateDead
    __vt__Q34Game11ShijimiChou9StateDead:
        .4byte 0
        .4byte 0
        .4byte
   init__Q34Game11ShijimiChou9StateDeadFPQ24Game9EnemyBasePQ24Game8StateArg
        .4byte exec__Q34Game11ShijimiChou9StateDeadFPQ24Game9EnemyBase
        .4byte cleanup__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte resume__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte restart__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte
   transit__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseiPQ24Game8StateArg .4byte
   doDirectDraw__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseR8Graphics .global
   __vt__Q34Game11ShijimiChou9StateFall
    __vt__Q34Game11ShijimiChou9StateFall:
        .4byte 0
        .4byte 0
        .4byte
   init__Q34Game11ShijimiChou9StateFallFPQ24Game9EnemyBasePQ24Game8StateArg
        .4byte exec__Q34Game11ShijimiChou9StateFallFPQ24Game9EnemyBase
        .4byte cleanup__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte resume__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte restart__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte
   transit__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseiPQ24Game8StateArg .4byte
   doDirectDraw__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseR8Graphics .global
   __vt__Q34Game11ShijimiChou8StateFly
    __vt__Q34Game11ShijimiChou8StateFly:
        .4byte 0
        .4byte 0
        .4byte
   init__Q34Game11ShijimiChou8StateFlyFPQ24Game9EnemyBasePQ24Game8StateArg
        .4byte exec__Q34Game11ShijimiChou8StateFlyFPQ24Game9EnemyBase
        .4byte cleanup__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte resume__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte restart__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte
   transit__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseiPQ24Game8StateArg .4byte
   doDirectDraw__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseR8Graphics .global
   __vt__Q34Game11ShijimiChou9StateWait
    __vt__Q34Game11ShijimiChou9StateWait:
        .4byte 0
        .4byte 0
        .4byte
   init__Q34Game11ShijimiChou9StateWaitFPQ24Game9EnemyBasePQ24Game8StateArg
        .4byte exec__Q34Game11ShijimiChou9StateWaitFPQ24Game9EnemyBase
        .4byte cleanup__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte resume__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte restart__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte
   transit__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseiPQ24Game8StateArg .4byte
   doDirectDraw__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseR8Graphics .global
   __vt__Q34Game11ShijimiChou5State
    __vt__Q34Game11ShijimiChou5State:
        .4byte 0
        .4byte 0
        .4byte init__Q24Game13EnemyFSMStateFPQ24Game9EnemyBasePQ24Game8StateArg
        .4byte exec__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte cleanup__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte resume__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte restart__Q24Game13EnemyFSMStateFPQ24Game9EnemyBase
        .4byte
   transit__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseiPQ24Game8StateArg .4byte
   doDirectDraw__Q24Game13EnemyFSMStateFPQ24Game9EnemyBaseR8Graphics .global
   __vt__Q34Game11ShijimiChou3FSM
    __vt__Q34Game11ShijimiChou3FSM:
        .4byte 0
        .4byte 0
        .4byte init__Q34Game11ShijimiChou3FSMFPQ24Game9EnemyBase
        .4byte
   start__Q24Game17EnemyStateMachineFPQ24Game9EnemyBaseiPQ24Game8StateArg .4byte
   exec__Q24Game17EnemyStateMachineFPQ24Game9EnemyBase .4byte
   transit__Q24Game17EnemyStateMachineFPQ24Game9EnemyBaseiPQ24Game8StateArg
        .4byte
   doDirectDraw__Q24Game17EnemyStateMachineFPQ24Game9EnemyBaseR8Graphics .4byte
   getCurrState__Q24Game17EnemyStateMachineFPQ24Game9EnemyBase .4byte
   setCurrState__Q24Game17EnemyStateMachineFPQ24Game9EnemyBasePQ24Game13EnemyFSMState

    .section .sdata2, "a"     # 0x80516360 - 0x80520E40
    .global lbl_8051EE10
    lbl_8051EE10:
        .4byte 0x77616974
        .4byte 0x00000000
    .global lbl_8051EE18
    lbl_8051EE18:
        .4byte 0x00000000
    .global lbl_8051EE1C
    lbl_8051EE1C:
        .4byte 0x47000000
    .global lbl_8051EE20
    lbl_8051EE20:
        .4byte 0x43300000
        .4byte 0x80000000
    .global lbl_8051EE28
    lbl_8051EE28:
        .4byte 0x43340000
    .global lbl_8051EE2C
    lbl_8051EE2C:
        .4byte 0x43160000
    .global lbl_8051EE30
    lbl_8051EE30:
        .4byte 0x666C7900
    .global lbl_8051EE34
    lbl_8051EE34:
        .4byte 0x42700000
    .global lbl_8051EE38
    lbl_8051EE38:
        .4byte 0x66616C6C
        .4byte 0x00000000
    .global lbl_8051EE40
    lbl_8051EE40:
        .4byte 0xC1A00000
    .global lbl_8051EE44
    lbl_8051EE44:
        .4byte 0x64656164
        .4byte 0x00000000
    .global lbl_8051EE4C
    lbl_8051EE4C:
        .float 1.0
    .global lbl_8051EE50
    lbl_8051EE50:
        .4byte 0x6C656176
        .4byte 0x65000000
    .global lbl_8051EE58
    lbl_8051EE58:
        .4byte 0x72657374
        .4byte 0x00000000
    .global lbl_8051EE60
    lbl_8051EE60:
        .4byte 0x41F00000
    .global lbl_8051EE64
    lbl_8051EE64:
        .4byte 0x42C80000
    .global lbl_8051EE68
    lbl_8051EE68:
        .4byte 0x42480000
    .global lbl_8051EE6C
    lbl_8051EE6C:
        .4byte 0x44160000
    .global lbl_8051EE70
    lbl_8051EE70:
        .4byte 0x43C80000
        .4byte 0x00000000
*/

namespace Game {

/*
 * --INFO--
 * Address:	80387718
 * Size:	000108
 */
void ShijimiChou::FSM::init(Game::EnemyBase*)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	li       r4, 6
	stw      r0, 0x14(r1)
	stw      r31, 0xc(r1)
	mr       r31, r3
	bl       create__Q24Game17EnemyStateMachineFi
	li       r3, 0x14
	bl       __nw__FUl
	or.      r4, r3, r3
	beq      lbl_80387750
	li       r4, 0
	bl       __ct__Q34Game11ShijimiChou9StateWaitFi
	mr       r4, r3

lbl_80387750:
	mr       r3, r31
	bl       registerState__Q24Game17EnemyStateMachineFPQ24Game13EnemyFSMState
	li       r3, 0x14
	bl       __nw__FUl
	or.      r4, r3, r3
	beq      lbl_80387774
	li       r4, 1
	bl       __ct__Q34Game11ShijimiChou8StateFlyFi
	mr       r4, r3

lbl_80387774:
	mr       r3, r31
	bl       registerState__Q24Game17EnemyStateMachineFPQ24Game13EnemyFSMState
	li       r3, 0x14
	bl       __nw__FUl
	or.      r4, r3, r3
	beq      lbl_80387798
	li       r4, 2
	bl       __ct__Q34Game11ShijimiChou9StateFallFi
	mr       r4, r3

lbl_80387798:
	mr       r3, r31
	bl       registerState__Q24Game17EnemyStateMachineFPQ24Game13EnemyFSMState
	li       r3, 0x10
	bl       __nw__FUl
	or.      r4, r3, r3
	beq      lbl_803877BC
	li       r4, 3
	bl       __ct__Q34Game11ShijimiChou9StateDeadFi
	mr       r4, r3

lbl_803877BC:
	mr       r3, r31
	bl       registerState__Q24Game17EnemyStateMachineFPQ24Game13EnemyFSMState
	li       r3, 0x10
	bl       __nw__FUl
	or.      r4, r3, r3
	beq      lbl_803877E0
	li       r4, 4
	bl       __ct__Q34Game11ShijimiChou10StateLeaveFi
	mr       r4, r3

lbl_803877E0:
	mr       r3, r31
	bl       registerState__Q24Game17EnemyStateMachineFPQ24Game13EnemyFSMState
	li       r3, 0x20
	bl       __nw__FUl
	or.      r4, r3, r3
	beq      lbl_80387804
	li       r4, 5
	bl       __ct__Q34Game11ShijimiChou9StateRestFi
	mr       r4, r3

lbl_80387804:
	mr       r3, r31
	bl       registerState__Q24Game17EnemyStateMachineFPQ24Game13EnemyFSMState
	lwz      r0, 0x14(r1)
	lwz      r31, 0xc(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387820
 * Size:	00003C
 */
ShijimiChou::StateWait::StateWait(int)
{
	/*
	lis      r5, __vt__Q24Game13EnemyFSMState@ha
	lis      r6, __vt__Q34Game11ShijimiChou5State@ha
	addi     r0, r5, __vt__Q24Game13EnemyFSMState@l
	lis      r5, __vt__Q34Game11ShijimiChou9StateWait@ha
	stw      r0, 0(r3)
	li       r7, 0
	addi     r6, r6, __vt__Q34Game11ShijimiChou5State@l
	addi     r5, r5, __vt__Q34Game11ShijimiChou9StateWait@l
	stw      r4, 4(r3)
	addi     r0, r2, lbl_8051EE10@sda21
	stw      r7, 8(r3)
	stw      r6, 0(r3)
	stw      r5, 0(r3)
	stw      r0, 0xc(r3)
	blr
	*/
}

/*
 * --INFO--
 * Address:	8038785C
 * Size:	0000C0
 */
void ShijimiChou::StateWait::init(Game::EnemyBase*, Game::StateArg*)
{
	/*
	stwu     r1, -0x30(r1)
	mflr     r0
	stw      r0, 0x34(r1)
	stfd     f31, 0x20(r1)
	psq_st   f31, 40(r1), 0, qr0
	stw      r31, 0x1c(r1)
	stw      r30, 0x18(r1)
	mr       r31, r4
	mr       r30, r3
	lwz      r0, 0x1e0(r4)
	mr       r3, r31
	lfs      f0, lbl_8051EE18@sda21(r2)
	li       r4, 2
	ori      r0, r0, 4
	li       r5, 0
	stw      r0, 0x1e0(r31)
	stfs     f0, 0x1d4(r31)
	stfs     f0, 0x1d8(r31)
	stfs     f0, 0x1dc(r31)
	stfs     f0, 0x1c8(r31)
	stfs     f0, 0x1cc(r31)
	stfs     f0, 0x1d0(r31)
	bl       startMotion__Q24Game9EnemyBaseFiPQ28SysShape14MotionListener
	bl       rand
	xoris    r3, r3, 0x8000
	lis      r0, 0x4330
	stw      r3, 0xc(r1)
	mr       r3, r31
	lfd      f2, lbl_8051EE20@sda21(r2)
	stw      r0, 8(r1)
	lfs      f0, lbl_8051EE1C@sda21(r2)
	lfd      f1, 8(r1)
	fsubs    f1, f1, f2
	fdivs    f31, f1, f0
	bl       getMotionFrameMax__Q24Game9EnemyBaseFv
	fmuls    f1, f1, f31
	mr       r3, r31
	bl       setMotionFrame__Q24Game9EnemyBaseFf
	li       r0, 0
	stw      r0, 0x10(r30)
	psq_l    f31, 40(r1), 0, qr0
	lwz      r0, 0x34(r1)
	lfd      f31, 0x20(r1)
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	mtlr     r0
	addi     r1, r1, 0x30
	blr
	*/
}

/*
 * --INFO--
 * Address:	8038791C
 * Size:	000140
 */
void ShijimiChou::StateWait::exec(Game::EnemyBase*)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	stw      r0, 0x14(r1)
	stw      r31, 0xc(r1)
	mr       r31, r4
	stw      r30, 8(r1)
	mr       r30, r3
	lwz      r5, 0x10(r3)
	addi     r0, r5, 1
	stw      r0, 0x10(r3)
	lwz      r0, 0x10(r3)
	cmpwi    r0, 0xa
	ble      lbl_80387A28
	lwz      r0, 0x2c0(r31)
	cmpwi    r0, 3
	bne      lbl_803879D8
	lwz      r0, 0x2e8(r31)
	cmplw    r0, r31
	beq      lbl_80387984
	lwz      r12, 0(r3)
	li       r5, 5
	li       r6, 0
	lwz      r12, 0x1c(r12)
	mtctr    r12
	bctrl
	b        lbl_80387A44

lbl_80387984:
	lwz      r3, 0x2c8(r31)
	cmplwi   r3, 0
	beq      lbl_80387A3C
	lwz      r4, 0x1e0(r3)
	li       r3, 0
	rlwinm.  r0, r4, 0, 0x15, 0x15
	bne      lbl_803879A8
	rlwinm.  r0, r4, 0, 0xd, 0xd
	beq      lbl_803879AC

lbl_803879A8:
	li       r3, 1

lbl_803879AC:
	clrlwi.  r0, r3, 0x18
	bne      lbl_80387A3C
	mr       r3, r30
	mr       r4, r31
	lwz      r12, 0(r30)
	li       r5, 1
	li       r6, 0
	lwz      r12, 0x1c(r12)
	mtctr    r12
	bctrl
	b        lbl_80387A44

lbl_803879D8:
	lwz      r0, 0x2e8(r31)
	cmplw    r0, r31
	bne      lbl_80387A04
	lfs      f1, lbl_8051EE28@sda21(r2)
	mr       r3, r31
	lfs      f2, lbl_8051EE2C@sda21(r2)
	li       r4, 0
	li       r5, 0
	bl
"getNearestPikmin__Q24Game9EnemyFuncFPQ24Game8CreatureffPfP23Condition<Q24Game4Piki>"
	cmplwi   r3, 0
	beq      lbl_80387A3C

lbl_80387A04:
	mr       r3, r30
	mr       r4, r31
	lwz      r12, 0(r30)
	li       r5, 1
	li       r6, 0
	lwz      r12, 0x1c(r12)
	mtctr    r12
	bctrl
	b        lbl_80387A44

lbl_80387A28:
	lwz      r0, 0x2e8(r31)
	cmplw    r0, r31
	bne      lbl_80387A3C
	mr       r3, r31
	bl       leaderInit__Q34Game11ShijimiChou3ObjFv

lbl_80387A3C:
	mr       r3, r31
	bl       fly__Q34Game11ShijimiChou3ObjFv

lbl_80387A44:
	lwz      r0, 0x14(r1)
	lwz      r31, 0xc(r1)
	lwz      r30, 8(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387A5C
 * Size:	00003C
 */
ShijimiChou::StateFly::StateFly(int)
{
	/*
	lis      r5, __vt__Q24Game13EnemyFSMState@ha
	lis      r6, __vt__Q34Game11ShijimiChou5State@ha
	addi     r0, r5, __vt__Q24Game13EnemyFSMState@l
	lis      r5, __vt__Q34Game11ShijimiChou8StateFly@ha
	stw      r0, 0(r3)
	li       r7, 0
	addi     r6, r6, __vt__Q34Game11ShijimiChou5State@l
	addi     r5, r5, __vt__Q34Game11ShijimiChou8StateFly@l
	stw      r4, 4(r3)
	addi     r0, r2, lbl_8051EE30@sda21
	stw      r7, 8(r3)
	stw      r6, 0(r3)
	stw      r5, 0(r3)
	stw      r0, 0xc(r3)
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387A98
 * Size:	000054
 */
void ShijimiChou::StateFly::init(Game::EnemyBase*, Game::StateArg*)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	stw      r0, 0x14(r1)
	stw      r31, 0xc(r1)
	mr       r31, r4
	stw      r30, 8(r1)
	mr       r30, r3
	mr       r3, r31
	bl       setNextGoal__Q34Game11ShijimiChou3ObjFv
	li       r3, 0
	stw      r3, 0x2c4(r31)
	lwz      r0, 0x1e0(r31)
	rlwinm   r0, r0, 0, 0x1a, 0x18
	stw      r0, 0x1e0(r31)
	stw      r3, 0x10(r30)
	lwz      r31, 0xc(r1)
	lwz      r30, 8(r1)
	lwz      r0, 0x14(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387AEC
 * Size:	0000E8
 */
void ShijimiChou::StateFly::exec(Game::EnemyBase*)
{
	/*
	stwu     r1, -0x20(r1)
	mflr     r0
	stw      r0, 0x24(r1)
	stw      r31, 0x1c(r1)
	mr       r31, r4
	stw      r30, 0x18(r1)
	mr       r30, r3
	mr       r3, r31
	bl       checkFlyStart__Q34Game11ShijimiChou3ObjFv
	clrlwi.  r0, r3, 0x18
	beq      lbl_80387B24
	lwz      r3, 0x2c4(r31)
	addi     r0, r3, 1
	stw      r0, 0x2c4(r31)

lbl_80387B24:
	lwz      r3, 0x10(r30)
	cmpwi    r3, 0xa
	bne      lbl_80387B3C
	mr       r3, r31
	bl       fadeAppearEffect__Q34Game11ShijimiChou3ObjFv
	b        lbl_80387B44

lbl_80387B3C:
	addi     r0, r3, 1
	stw      r0, 0x10(r30)

lbl_80387B44:
	lwz      r0, 0x2c0(r31)
	lwz      r3, 0xc0(r31)
	cmpwi    r0, 2
	lfs      f2, 0x81c(r3)
	bne      lbl_80387B5C
	lfs      f2, 0x844(r3)

lbl_80387B5C:
	cmpwi    r0, 3
	bne      lbl_80387B68
	lfs      f2, lbl_8051EE34@sda21(r2)

lbl_80387B68:
	lwz      r3, 0x2c4(r31)
	lis      r0, 0x4330
	stw      r0, 8(r1)
	xoris    r0, r3, 0x8000
	lfd      f1, lbl_8051EE20@sda21(r2)
	stw      r0, 0xc(r1)
	lfd      f0, 8(r1)
	fsubs    f0, f0, f1
	fcmpo    cr0, f0, f2
	ble      lbl_80387BB4
	mr       r3, r30
	mr       r4, r31
	lwz      r12, 0(r30)
	li       r5, 4
	li       r6, 0
	lwz      r12, 0x1c(r12)
	mtctr    r12
	bctrl
	b        lbl_80387BBC

lbl_80387BB4:
	mr       r3, r31
	bl       fly__Q34Game11ShijimiChou3ObjFv

lbl_80387BBC:
	lwz      r0, 0x24(r1)
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	mtlr     r0
	addi     r1, r1, 0x20
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387BD4
 * Size:	00003C
 */
ShijimiChou::StateFall::StateFall(int)
{
	/*
	lis      r5, __vt__Q24Game13EnemyFSMState@ha
	lis      r6, __vt__Q34Game11ShijimiChou5State@ha
	addi     r0, r5, __vt__Q24Game13EnemyFSMState@l
	lis      r5, __vt__Q34Game11ShijimiChou9StateFall@ha
	stw      r0, 0(r3)
	li       r7, 0
	addi     r6, r6, __vt__Q34Game11ShijimiChou5State@l
	addi     r5, r5, __vt__Q34Game11ShijimiChou9StateFall@l
	stw      r4, 4(r3)
	addi     r0, r2, lbl_8051EE38@sda21
	stw      r7, 8(r3)
	stw      r6, 0(r3)
	stw      r5, 0(r3)
	stw      r0, 0xc(r3)
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387C10
 * Size:	0000D0
 */
void ShijimiChou::StateFall::init(Game::EnemyBase*, Game::StateArg*)
{
	/*
	stwu     r1, -0x30(r1)
	mflr     r0
	stw      r0, 0x34(r1)
	stw      r31, 0x2c(r1)
	mr       r31, r4
	stw      r30, 0x28(r1)
	mr       r30, r3
	mr       r3, r31
	bl       hardConstraintOff__Q24Game9EnemyBaseFv
	lwz      r0, 0x1e0(r31)
	rlwinm   r0, r0, 0, 0x1e, 0x1c
	stw      r0, 0x1e0(r31)
	lwz      r3, 0xc0(r31)
	lbz      r0, 0x94c(r3)
	cmplwi   r0, 0
	beq      lbl_80387C74
	lfs      f1, 0x1d4(r31)
	lfs      f2, 0x1d8(r31)
	lfs      f3, 0x1dc(r31)
	lfs      f0, lbl_8051EE40@sda21(r2)
	stfs     f1, 0x14(r1)
	stfs     f0, 0x1d8(r31)
	stfs     f2, 0x18(r1)
	stfs     f3, 0x1c(r1)
	stfs     f3, 0x1dc(r31)

lbl_80387C74:
	mr       r4, r31
	addi     r3, r1, 8
	lwz      r12, 0(r31)
	lwz      r12, 8(r12)
	mtctr    r12
	bctrl
	lfs      f0, 8(r1)
	li       r4, 0x5917
	li       r5, 0
	stfs     f0, 0x2cc(r31)
	lfs      f0, 0xc(r1)
	stfs     f0, 0x2d0(r31)
	lfs      f0, 0x10(r1)
	stfs     f0, 0x2d4(r31)
	lwz      r3, 0x28c(r31)
	lwz      r12, 0x28(r3)
	lwz      r12, 0x88(r12)
	mtctr    r12
	bctrl
	li       r0, 0
	stw      r0, 0x10(r30)
	lwz      r0, 0x34(r1)
	lwz      r31, 0x2c(r1)
	lwz      r30, 0x28(r1)
	mtlr     r0
	addi     r1, r1, 0x30
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387CE0
 * Size:	000094
 */
void ShijimiChou::StateFall::exec(Game::EnemyBase*)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	stw      r0, 0x14(r1)
	stw      r31, 0xc(r1)
	mr       r31, r4
	stw      r30, 8(r1)
	mr       r30, r3
	lwz      r3, 0xc0(r4)
	lbz      r0, 0x94c(r3)
	cmplwi   r0, 0
	beq      lbl_80387D14
	mr       r3, r31
	bl       fallBehavior__Q34Game11ShijimiChou3ObjFv

lbl_80387D14:
	mr       r3, r31
	bl       isFallEnd__Q34Game11ShijimiChou3ObjFv
	clrlwi.  r0, r3, 0x18
	bne      lbl_80387D30
	lwz      r0, 0x10(r30)
	cmpwi    r0, 0x64
	ble      lbl_80387D50

lbl_80387D30:
	mr       r3, r30
	mr       r4, r31
	lwz      r12, 0(r30)
	li       r5, 3
	li       r6, 0
	lwz      r12, 0x1c(r12)
	mtctr    r12
	bctrl

lbl_80387D50:
	lwz      r3, 0x10(r30)
	addi     r0, r3, 1
	stw      r0, 0x10(r30)
	lwz      r31, 0xc(r1)
	lwz      r30, 8(r1)
	lwz      r0, 0x14(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387D74
 * Size:	00003C
 */
ShijimiChou::StateDead::StateDead(int)
{
	/*
	lis      r5, __vt__Q24Game13EnemyFSMState@ha
	lis      r6, __vt__Q34Game11ShijimiChou5State@ha
	addi     r0, r5, __vt__Q24Game13EnemyFSMState@l
	lis      r5, __vt__Q34Game11ShijimiChou9StateDead@ha
	stw      r0, 0(r3)
	li       r7, 0
	addi     r6, r6, __vt__Q34Game11ShijimiChou5State@l
	addi     r5, r5, __vt__Q34Game11ShijimiChou9StateDead@l
	stw      r4, 4(r3)
	addi     r0, r2, lbl_8051EE44@sda21
	stw      r7, 8(r3)
	stw      r6, 0(r3)
	stw      r5, 0(r3)
	stw      r0, 0xc(r3)
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387DB0
 * Size:	0000A0
 */
void ShijimiChou::StateDead::init(Game::EnemyBase*, Game::StateArg*)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	stw      r0, 0x14(r1)
	stw      r31, 0xc(r1)
	mr       r31, r4
	li       r4, 0
	lwz      r12, 0(r31)
	mr       r3, r31
	lwz      r12, 0xac(r12)
	mtctr    r12
	bctrl
	lwz      r0, 0x1e0(r31)
	mr       r3, r31
	lfs      f0, lbl_8051EE18@sda21(r2)
	rlwinm   r0, r0, 0, 0x1e, 0x1c
	stw      r0, 0x1e0(r31)
	stfs     f0, 0x1d4(r31)
	stfs     f0, 0x1d8(r31)
	stfs     f0, 0x1dc(r31)
	stfs     f0, 0x1c8(r31)
	stfs     f0, 0x1cc(r31)
	stfs     f0, 0x1d0(r31)
	lwz      r0, 0x1e0(r31)
	ori      r0, r0, 0x80
	stw      r0, 0x1e0(r31)
	bl       deathProcedure__Q24Game9EnemyBaseFv
	mr       r3, r31
	li       r4, 1
	li       r5, 0
	bl       startMotion__Q24Game9EnemyBaseFiPQ28SysShape14MotionListener
	lfs      f1, lbl_8051EE18@sda21(r2)
	mr       r3, r31
	bl       PSStartEnemyFatalHitSE__FPQ24Game9EnemyBasef
	mr       r3, r31
	bl       deadEffect__Q34Game11ShijimiChou3ObjFv
	lwz      r0, 0x14(r1)
	lwz      r31, 0xc(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387E50
 * Size:	000114
 */
void ShijimiChou::StateDead::exec(Game::EnemyBase*)
{
	/*
	stwu     r1, -0x50(r1)
	mflr     r0
	stw      r0, 0x54(r1)
	stw      r31, 0x4c(r1)
	mr       r31, r4
	lwz      r3, 0x188(r4)
	lbz      r0, 0x24(r3)
	cmplwi   r0, 0
	beq      lbl_80387F50
	lwz      r0, 0x1c(r3)
	cmplwi   r0, 0x3e8
	bne      lbl_80387F50
	mr       r3, r31
	bl       genItem__Q34Game11ShijimiChou3ObjFv
	lfs      f1, lbl_8051EE18@sda21(r2)
	mr       r3, r31
	bl       PSStartEnemyGhostSE__FPQ24Game9EnemyBasef
	mr       r3, r31
	addi     r4, r1, 0x20
	lwz      r12, 0(r31)
	lwz      r12, 0x204(r12)
	mtctr    r12
	bctrl
	lwz      r4, 0x20(r1)
	lis      r3, __vt__Q23efx5TBase@ha
	lwz      r6, 0x24(r1)
	addi     r0, r3, __vt__Q23efx5TBase@l
	lwz      r5, 0x28(r1)
	lis      r3, __vt__Q23efx3Arg@ha
	stw      r4, 8(r1)
	lis      r4, __vt__Q23efx8TSimple1@ha
	addi     r10, r3, __vt__Q23efx3Arg@l
	lfs      f0, lbl_8051EE4C@sda21(r2)
	stw      r6, 0xc(r1)
	lis      r9, __vt__Q23efx12ArgEnemyType@ha
	lfs      f3, 8(r1)
	lis      r3, __vt__Q23efx10TEnemyDead@ha
	stw      r5, 0x10(r1)
	li       r8, 0xc
	lfs      f2, 0xc(r1)
	li       r6, 0x52
	lfs      f1, 0x10(r1)
	li       r5, 0
	stw      r0, 0x14(r1)
	addi     r7, r4, __vt__Q23efx8TSimple1@l
	addi     r9, r9, __vt__Q23efx12ArgEnemyType@l
	addi     r0, r3, __vt__Q23efx10TEnemyDead@l
	stw      r10, 0x2c(r1)
	addi     r3, r1, 0x14
	addi     r4, r1, 0x2c
	stw      r7, 0x14(r1)
	stfs     f3, 0x30(r1)
	stfs     f2, 0x34(r1)
	stfs     f1, 0x38(r1)
	stw      r9, 0x2c(r1)
	stw      r8, 0x3c(r1)
	stfs     f0, 0x40(r1)
	sth      r6, 0x18(r1)
	stw      r5, 0x1c(r1)
	stw      r0, 0x14(r1)
	bl       create__Q23efx10TEnemyDeadFPQ23efx3Arg
	mr       r3, r31
	li       r4, 0
	bl       kill__Q24Game8CreatureFPQ24Game15CreatureKillArg

lbl_80387F50:
	lwz      r0, 0x54(r1)
	lwz      r31, 0x4c(r1)
	mtlr     r0
	addi     r1, r1, 0x50
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387F64
 * Size:	00003C
 */
ShijimiChou::StateLeave::StateLeave(int)
{
	/*
	lis      r5, __vt__Q24Game13EnemyFSMState@ha
	lis      r6, __vt__Q34Game11ShijimiChou5State@ha
	addi     r0, r5, __vt__Q24Game13EnemyFSMState@l
	lis      r5, __vt__Q34Game11ShijimiChou10StateLeave@ha
	stw      r0, 0(r3)
	li       r7, 0
	addi     r6, r6, __vt__Q34Game11ShijimiChou5State@l
	addi     r5, r5, __vt__Q34Game11ShijimiChou10StateLeave@l
	stw      r4, 4(r3)
	addi     r0, r2, lbl_8051EE50@sda21
	stw      r7, 8(r3)
	stw      r6, 0(r3)
	stw      r5, 0(r3)
	stw      r0, 0xc(r3)
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387FA0
 * Size:	000044
 */
void ShijimiChou::StateLeave::init(Game::EnemyBase*, Game::StateArg*)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	stw      r0, 0x14(r1)
	stw      r31, 0xc(r1)
	mr       r31, r4
	mr       r3, r31
	bl       setEmotionCaution__Q24Game9EnemyBaseFv
	lwz      r0, 0x1e0(r31)
	mr       r3, r31
	ori      r0, r0, 0x40
	stw      r0, 0x1e0(r31)
	bl       leaveInit__Q34Game11ShijimiChou3ObjFv
	lwz      r0, 0x14(r1)
	lwz      r31, 0xc(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	80387FE4
 * Size:	000024
 */
void ShijimiChou::StateLeave::exec(Game::EnemyBase*)
{
	/*
	stwu     r1, -0x10(r1)
	mflr     r0
	mr       r3, r4
	stw      r0, 0x14(r1)
	bl       leave__Q34Game11ShijimiChou3ObjFv
	lwz      r0, 0x14(r1)
	mtlr     r0
	addi     r1, r1, 0x10
	blr
	*/
}

/*
 * --INFO--
 * Address:	80388008
 * Size:	00003C
 */
ShijimiChou::StateRest::StateRest(int)
{
	/*
	lis      r5, __vt__Q24Game13EnemyFSMState@ha
	lis      r6, __vt__Q34Game11ShijimiChou5State@ha
	addi     r0, r5, __vt__Q24Game13EnemyFSMState@l
	lis      r5, __vt__Q34Game11ShijimiChou9StateRest@ha
	stw      r0, 0(r3)
	li       r7, 0
	addi     r6, r6, __vt__Q34Game11ShijimiChou5State@l
	addi     r5, r5, __vt__Q34Game11ShijimiChou9StateRest@l
	stw      r4, 4(r3)
	addi     r0, r2, lbl_8051EE58@sda21
	stw      r7, 8(r3)
	stw      r6, 0(r3)
	stw      r5, 0(r3)
	stw      r0, 0xc(r3)
	blr
	*/
}

/*
 * --INFO--
 * Address:	80388044
 * Size:	0000BC
 */
void ShijimiChou::StateRest::init(Game::EnemyBase*, Game::StateArg*)
{
	/*
	stwu     r1, -0x20(r1)
	mflr     r0
	stw      r0, 0x24(r1)
	li       r0, 1
	stw      r31, 0x1c(r1)
	mr       r31, r4
	stw      r30, 0x18(r1)
	mr       r30, r3
	stb      r0, 0x1c(r3)
	li       r0, 0
	stw      r0, 0x10(r3)
	bl       rand
	xoris    r0, r3, 0x8000
	lis      r3, 0x4330
	stw      r0, 0xc(r1)
	li       r0, 0
	lfd      f3, lbl_8051EE20@sda21(r2)
	stw      r3, 8(r1)
	lfs      f2, lbl_8051EE1C@sda21(r2)
	lfd      f0, 8(r1)
	lfs      f1, lbl_8051EE64@sda21(r2)
	fsubs    f3, f0, f3
	lfs      f0, lbl_8051EE60@sda21(r2)
	fdivs    f2, f3, f2
	fmadds   f0, f1, f2, f0
	fctiwz   f0, f0
	stfd     f0, 0x10(r1)
	lwz      r3, 0x14(r1)
	stw      r3, 0x18(r30)
	stb      r0, 0x1d(r30)
	stw      r0, 0x14(r30)
	stb      r0, 0x1e(r30)
	lwz      r3, gameSystem__4Game@sda21(r13)
	cmplwi   r3, 0
	beq      lbl_803880E8
	lwz      r0, 0x44(r3)
	cmpwi    r0, 4
	bne      lbl_803880E8
	lwz      r0, 0x1e0(r31)
	rlwinm   r0, r0, 0, 0x1a, 0x18
	stw      r0, 0x1e0(r31)

lbl_803880E8:
	lwz      r0, 0x24(r1)
	lwz      r31, 0x1c(r1)
	lwz      r30, 0x18(r1)
	mtlr     r0
	addi     r1, r1, 0x20
	blr
	*/
}

/*
 * --INFO--
 * Address:	80388100
 * Size:	00034C
 */
void ShijimiChou::StateRest::exec(Game::EnemyBase*)
{
	/*
	stwu     r1, -0x80(r1)
	mflr     r0
	stw      r0, 0x84(r1)
	stfd     f31, 0x70(r1)
	psq_st   f31, 120(r1), 0, qr0
	stfd     f30, 0x60(r1)
	psq_st   f30, 104(r1), 0, qr0
	stfd     f29, 0x50(r1)
	psq_st   f29, 88(r1), 0, qr0
	stw      r31, 0x4c(r1)
	stw      r30, 0x48(r1)
	mr       r30, r3
	mr       r31, r4
	lbz      r0, 0x1d(r3)
	cmplwi   r0, 0
	bne      lbl_8038816C
	lwz      r4, 0x1e0(r31)
	li       r3, 0
	rlwinm.  r0, r4, 0, 0x15, 0x15
	bne      lbl_80388158
	rlwinm.  r0, r4, 0, 0xd, 0xd
	beq      lbl_8038815C

lbl_80388158:
	li       r3, 1

lbl_8038815C:
	clrlwi.  r0, r3, 0x18
	bne      lbl_8038816C
	mr       r3, r31
	bl       restFly__Q34Game11ShijimiChou3ObjFv

lbl_8038816C:
	lwz      r3, 0x10(r30)
	addi     r0, r3, 1
	stw      r0, 0x10(r30)
	lbz      r0, 0x1d(r30)
	cmplwi   r0, 0
	beq      lbl_8038837C
	li       r0, 0
	stw      r0, 0x14(r30)
	lbz      r0, 0x1e(r30)
	cmplwi   r0, 0
	beq      lbl_803881A0
	mr       r3, r31
	bl       stopMotion__Q24Game9EnemyBaseFv

lbl_803881A0:
	lbz      r0, 0x1c(r30)
	cmplwi   r0, 0
	beq      lbl_8038820C
	li       r0, 0
	stw      r0, 0x10(r30)
	bl       rand
	xoris    r0, r3, 0x8000
	lis      r4, 0x4330
	stw      r0, 0x34(r1)
	li       r0, 0
	lfd      f3, lbl_8051EE20@sda21(r2)
	mr       r3, r31
	stw      r4, 0x30(r1)
	lfs      f1, lbl_8051EE1C@sda21(r2)
	lfd      f2, 0x30(r1)
	lfs      f0, lbl_8051EE68@sda21(r2)
	fsubs    f2, f2, f3
	fdivs    f1, f2, f1
	fmadds   f0, f0, f1, f0
	fctiwz   f0, f0
	stfd     f0, 0x38(r1)
	lwz      r4, 0x3c(r1)
	stw      r4, 0x18(r30)
	stb      r0, 0x1c(r30)
	stb      r0, 0x1e(r30)
	bl       finishMotion__Q24Game9EnemyBaseFv
	b        lbl_8038824C

lbl_8038820C:
	mr       r3, r31
	bl       isFinishMotion__Q24Game9EnemyBaseFv
	clrlwi.  r0, r3, 0x18
	beq      lbl_8038824C
	lwz      r3, 0x188(r31)
	lbz      r0, 0x24(r3)
	cmplwi   r0, 0
	beq      lbl_8038824C
	lwz      r0, 0x1c(r3)
	cmplwi   r0, 0x3e8
	bne      lbl_8038824C
	li       r0, 1
	lfs      f1, lbl_8051EE18@sda21(r2)
	stb      r0, 0x1e(r30)
	mr       r3, r31
	bl       setMotionFrame__Q24Game9EnemyBaseFf

lbl_8038824C:
	mr       r3, r31
	bl       resetRestPos__Q34Game11ShijimiChou3ObjFv
	lwz      r3, 0x10(r30)
	lwz      r0, 0x18(r30)
	cmpw     r3, r0
	blt      lbl_80388414
	bne      lbl_80388280
	mr       r3, r31
	li       r4, 2
	li       r5, 0
	bl       startMotion__Q24Game9EnemyBaseFiPQ28SysShape14MotionListener
	li       r0, 0
	stb      r0, 0x1e(r30)

lbl_80388280:
	mr       r3, r31
	bl       checkRestOff__Q34Game11ShijimiChou3ObjFv
	clrlwi.  r0, r3, 0x18
	beq      lbl_80388414
	mr       r3, r31
	bl       hardConstraintOff__Q24Game9EnemyBaseFv
	li       r3, 1
	li       r0, 0
	stb      r3, 0x1c(r30)
	mr       r3, r31
	stb      r0, 0x1d(r30)
	bl       startMotion__Q24Game9EnemyBaseFv
	lwz      r4, 0x2c8(r31)
	addi     r3, r1, 0x20
	lwz      r12, 0(r4)
	lwz      r12, 8(r12)
	mtctr    r12
	bctrl
	mr       r4, r31
	addi     r3, r1, 0x14
	lwz      r12, 0(r31)
	lfs      f31, 0x20(r1)
	lwz      r12, 8(r12)
	lfs      f30, 0x24(r1)
	lfs      f29, 0x28(r1)
	mtctr    r12
	bctrl
	lfs      f0, 0x14(r1)
	li       r0, 0
	lfs      f1, 0x18(r1)
	fsubs    f2, f0, f31
	lfs      f0, 0x1c(r1)
	fsubs    f1, f1, f30
	fsubs    f0, f0, f29
	fadds    f31, f31, f2
	fadds    f30, f30, f1
	fadds    f29, f29, f0
	stfs     f31, 0x304(r31)
	stfs     f30, 0x308(r31)
	stfs     f29, 0x30c(r31)
	stw      r0, 0x10(r30)
	bl       rand
	xoris    r3, r3, 0x8000
	lis      r0, 0x4330
	stw      r3, 0x3c(r1)
	mr       r3, r31
	lfd      f3, lbl_8051EE20@sda21(r2)
	li       r4, 2
	stw      r0, 0x38(r1)
	li       r5, 0
	lfs      f2, lbl_8051EE1C@sda21(r2)
	lfd      f0, 0x38(r1)
	lfs      f1, lbl_8051EE70@sda21(r2)
	fsubs    f3, f0, f3
	lfs      f0, lbl_8051EE6C@sda21(r2)
	fdivs    f2, f3, f2
	fmadds   f0, f1, f2, f0
	fctiwz   f0, f0
	stfd     f0, 0x30(r1)
	lwz      r0, 0x34(r1)
	stw      r0, 0x18(r30)
	bl       startMotion__Q24Game9EnemyBaseFiPQ28SysShape14MotionListener
	b        lbl_80388414

lbl_8038837C:
	lwz      r3, 0x10(r30)
	lwz      r0, 0x18(r30)
	cmpw     r3, r0
	ble      lbl_803883BC
	lwz      r4, 0x2c8(r31)
	addi     r3, r1, 8
	lwz      r12, 0(r4)
	lwz      r12, 8(r12)
	mtctr    r12
	bctrl
	lfs      f1, 0xc(r1)
	lfs      f2, 0x10(r1)
	lfs      f0, 8(r1)
	stfs     f0, 0x304(r31)
	stfs     f1, 0x308(r31)
	stfs     f2, 0x30c(r31)

lbl_803883BC:
	lwz      r3, 0x14(r30)
	addi     r0, r3, 1
	stw      r0, 0x14(r30)
	lwz      r0, 0x14(r30)
	cmpwi    r0, 0x14
	ble      lbl_80388414
	mr       r3, r31
	bl       checkRestOn__Q34Game11ShijimiChou3ObjFv
	clrlwi.  r0, r3, 0x18
	beq      lbl_80388414
	li       r0, 1
	lfs      f0, lbl_8051EE18@sda21(r2)
	stb      r0, 0x1d(r30)
	mr       r3, r31
	stb      r0, 0x1c(r30)
	stfs     f0, 0x1c8(r31)
	stfs     f0, 0x1cc(r31)
	stfs     f0, 0x1d0(r31)
	stfs     f0, 0x1d4(r31)
	stfs     f0, 0x1d8(r31)
	stfs     f0, 0x1dc(r31)
	bl       hardConstraintOn__Q24Game9EnemyBaseFv

lbl_80388414:
	mr       r3, r31
	bl       restCheck__Q34Game11ShijimiChou3ObjFv
	psq_l    f31, 120(r1), 0, qr0
	lfd      f31, 0x70(r1)
	psq_l    f30, 104(r1), 0, qr0
	lfd      f30, 0x60(r1)
	psq_l    f29, 88(r1), 0, qr0
	lfd      f29, 0x50(r1)
	lwz      r31, 0x4c(r1)
	lwz      r0, 0x84(r1)
	lwz      r30, 0x48(r1)
	mtlr     r0
	addi     r1, r1, 0x80
	blr
	*/
}
} // namespace Game
